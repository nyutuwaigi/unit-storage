{"version":3,"sources":["webpack:///src/app/pages/admin/add-feature/add-feature.page.html","webpack:///src/app/pages/admin/add-feature/add-feature-routing.module.ts","webpack:///src/app/pages/admin/add-feature/add-feature.module.ts","webpack:///src/app/pages/admin/add-feature/add-feature.page.scss","webpack:///src/app/pages/admin/add-feature/add-feature.page.ts"],"names":["routes","path","component","AddFeaturePageRoutingModule","imports","forChild","exports","AddFeaturePageModule","providers","declarations","Camera","AddFeaturePage","_apiService","_fb","loader","alertCtrl","_toast","storage","zone","actionSheetController","url","amenities","addAmenity","amenityId","btnText","imageResponse","addAmenityForm","group","name","required","description","getUserData","get","then","session","org","token","orgId","getAmenities","params","postRequest","subscribe","result","success","console","log","data","list","error","formValue","value","present","images","updateAmenity","presentToast","message","reset","dismiss","amenity","_id","controls","setValue","create","header","buttons","text","role","cssClass","handler","blah","deleteAmenity","alert","i","splice","options","quality","allowEditing","resultType","Base64","height","width","getPhoto","imageData","base64String","base64","auth","type","imageUpload","uploadBase64image","response","run","push","selector","template"],"mappings":";;;;;;;;;;;;;;;;;;;;AAAA;AAAe;;;AAAA;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;ACKf,UAAMA,MAAM,GAAW,CACrB;AACEC,YAAI,EAAE,EADR;AAEEC,iBAAS,EAAE;AAFb,OADqB,CAAvB;;UAWaC,2BAA2B;AAAA;AAAA,O;;AAA3BA,iCAA2B,6DAJvC,+DAAS;AACRC,eAAO,EAAE,CAAC,6DAAaC,QAAb,CAAsBL,MAAtB,CAAD,CADD;AAERM,eAAO,EAAE,CAAC,4DAAD;AAFD,OAAT,CAIuC,GAA3BH,2BAA2B,CAA3B;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;UCMAI,oBAAoB;AAAA;AAAA,O;;AAApBA,0BAAoB,6DAXhC,+DAAS;AACRH,eAAO,EAAE,CACP,4DADO,EAEP,0DAFO,EAGP,0DAHO,EAIP,uFAJO,EAKP,kEALO,CADD;AAQRI,iBAAS,EAAE,EARH;AASRC,oBAAY,EAAE,CAAC,gEAAD;AATN,OAAT,CAWgC,GAApBF,oBAAoB,CAApB;;;;;;;;;;;;;;;;ACtBb;AAAe;;;AAAA;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;ACUf,UAAQG,MAAR,GAAmB,uDAAnB,CAAQA,MAAR;;UAQaC,cAAc;AAYzB,gCACUC,WADV,EAEUC,GAFV,EAGUC,MAHV,EAIUC,SAJV,EAKUC,MALV,EAMUC,OANV,EAOUC,IAPV,EAQSC,qBART,EAQqD;AAAA;;AAP3C,eAAAP,WAAA,GAAAA,WAAA;AACA,eAAAC,GAAA,GAAAA,GAAA;AACA,eAAAC,MAAA,GAAAA,MAAA;AACA,eAAAC,SAAA,GAAAA,SAAA;AACA,eAAAC,MAAA,GAAAA,MAAA;AACA,eAAAC,OAAA,GAAAA,OAAA;AACA,eAAAC,IAAA,GAAAA,IAAA;AACD,eAAAC,qBAAA,GAAAA,qBAAA;AAlBD,eAAAC,GAAA,GAAW,sDAAOA,GAAlB;AACR,eAAAC,SAAA,GAAiB,EAAjB;AACA,eAAAC,UAAA,GAAsB,KAAtB;AAGA,eAAAC,SAAA,GAAiB,EAAjB;AACA,eAAAC,OAAA,GAAkB,aAAlB;AACA,eAAAC,aAAA,GAAqB,EAArB;AAaE,eAAKC,cAAL,GAAsB,KAAKb,GAAL,CAASc,KAAT,CAAe;AACnCC,gBAAI,EAAE,IAAI,0DAAJ,CAAgB,EAAhB,EAAoB,0DAAWC,QAA/B,CAD6B;AAEnCC,uBAAW,EAAE,IAAI,0DAAJ,CAAgB,EAAhB,EAAoB,0DAAWD,QAA/B;AAFsB,WAAf,CAAtB;AAID;;AA1BwB;AAAA;AAAA,iBA4BzB,oBAAW;AACT,iBAAKE,WAAL;AACD;AA9BwB;AAAA;AAAA,iBAgCzB,uBAAc;AAAA;;AACZ,iBAAKd,OAAL,CAAae,GAAb,CAAiB,SAAjB,EAA4BC,IAA5B,CAAiC,UAACC,OAAD,EAAa;AAC5C,kBAAIA,OAAJ,EAAa;AACX,qBAAI,CAACjB,OAAL,CAAae,GAAb,CAAiB,KAAjB,EAAwBC,IAAxB,CAA6B,UAACE,GAAD,EAAQ;AACnC,sBAAGA,GAAH,EAAO;AACL,yBAAI,CAACC,KAAL,GAAaF,OAAb;AACA,yBAAI,CAACG,KAAL,GAAaF,GAAb;;AACA,yBAAI,CAACG,YAAL;AACD;AACF,iBAND;AAOD;AACF,aAVD;AAWD;AA5CwB;AAAA;AAAA,iBA8CzB,wBAAe;AAAA;;AACb,gBAAI,KAAKF,KAAT,EAAgB;AACV,kBAAMG,MAAM,GAAG;AACbH,qBAAK,EAAE,KAAKA,KADC;AAEbC,qBAAK,EAAG,KAAKA;AAFA,eAAf;AAIA,mBAAKzB,WAAL,CAAiB4B,WAAjB,CAA6B,KAAKpB,GAAL,GAAW,uDAAQC,SAAhD,EAA2DkB,MAA3D,EAAmEE,SAAnE,CACE,UAAOC,MAAP;AAAA,uBAAkB;AAAA;AAAA;AAAA;AAAA;AAChB,8BAAIA,MAAM,CAACC,OAAX,EAAoB;AAClBC,mCAAO,CAACC,GAAR,CAAYH,MAAM,CAACI,IAAP,CAAYC,IAAxB;AACA,iCAAK1B,SAAL,GAAiBqB,MAAM,CAACI,IAAP,CAAYC,IAA7B;AACD;;AAJe;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,mBAAlB;AAAA,eADF,GAOG,UAACC,KAAD,EAAW;AACZJ,uBAAO,CAACC,GAAR,CAAYG,KAAK,CAAClB,WAAlB;AACD,eATD;AAWL;AACF;AAhEwB;AAAA;AAAA,iBAiEzB,eAAM;AACJc,mBAAO,CAACC,GAAR,CAAY,KAAZ;AACA,iBAAKvB,UAAL,GAAkB,IAAlB;AACA,iBAAKC,SAAL,GAAiB,EAAjB;AACA,iBAAKC,OAAL,GAAe,aAAf;AACD;AAtEwB;AAAA;AAAA,iBAwEzB,kBAAS;AAAA;;AACPoB,mBAAO,CAACC,GAAR,CAAY,KAAKtB,SAAjB;AACA,gBAAI0B,SAAS,GAAG,KAAKvB,cAAL,CAAoBwB,KAApC;;AACA,gBAAI,KAAK3B,SAAT,EAAoB;AAClB,mBAAKT,MAAL,CAAYqC,OAAZ;AACA,kBAAMZ,MAAM,GAAG;AACbhB,yBAAS,EAAE,KAAKA,SADH;AAEba,qBAAK,EAAE,KAAKA,KAFC;AAGbR,oBAAI,EAAEqB,SAAS,CAACrB,IAHH;AAIbE,2BAAW,EAAEmB,SAAS,CAACnB,WAJV;AAKbsB,sBAAM,EAAE,KAAK3B,aALA;AAMbY,qBAAK,EAAG,KAAKA;AANA,eAAf;AAQA,mBAAKzB,WAAL,CAAiB4B,WAAjB,CAA6B,KAAKpB,GAAL,GAAW,uDAAQiC,aAAhD,EAA+Dd,MAA/D,EAAuEE,SAAvE,CACE,UAAOC,MAAP;AAAA,uBAAkB;AAAA;AAAA;AAAA;AAAA;AAChB,8BAAIA,MAAM,CAACC,OAAX,EAAoB;AAClB,iCAAK3B,MAAL,CAAYsC,YAAZ,CAAyBZ,MAAM,CAACa,OAAhC;;AACA,iCAAK7B,cAAL,CAAoB8B,KAApB;AACA,iCAAKlC,UAAL,GAAkB,KAAlB;AACA,iCAAKgB,YAAL;AACD;;AACD,+BAAKxB,MAAL,CAAY2C,OAAZ;;AAPgB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,mBAAlB;AAAA,eADF,GAUG,UAACT,KAAD,EAAW;AACZ,sBAAI,CAAClC,MAAL,CAAY2C,OAAZ;;AACAb,uBAAO,CAACC,GAAR,CAAYG,KAAK,CAAClB,WAAlB;;AACA,sBAAI,CAACd,MAAL,CAAYsC,YAAZ,CAAyBN,KAAK,CAAClB,WAA/B;AACD,eAdD;AAeD,aAzBD,MAyBO;AACL,kBAAMS,OAAM,GAAG;AACbH,qBAAK,EAAE,KAAKA,KADC;AAEbR,oBAAI,EAAEqB,SAAS,CAACrB,IAFH;AAGbE,2BAAW,EAAEmB,SAAS,CAACnB,WAHV;AAIbsB,sBAAM,EAAE,KAAK3B,aAJA;AAKbY,qBAAK,EAAG,KAAKA;AALA,eAAf;AAOA,mBAAKzB,WAAL,CAAiB4B,WAAjB,CAA6B,KAAKpB,GAAL,GAAW,uDAAQE,UAAhD,EAA4DiB,OAA5D,EAAoEE,SAApE,CACE,UAAOC,MAAP;AAAA,uBAAkB;AAAA;AAAA;AAAA;AAAA;AAChB,8BAAIA,MAAM,CAACC,OAAX,EAAoB;AAClB,iCAAK3B,MAAL,CAAYsC,YAAZ,CAAyBZ,MAAM,CAACa,OAAhC;;AACA,iCAAK7B,cAAL,CAAoB8B,KAApB;AACA,iCAAKlC,UAAL,GAAkB,KAAlB;AACA,iCAAKgB,YAAL;AACD;;AACD,+BAAKxB,MAAL,CAAY2C,OAAZ;;AAPgB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,mBAAlB;AAAA,eADF,GAUG,UAACT,KAAD,EAAW;AACZ,sBAAI,CAAClC,MAAL,CAAY2C,OAAZ;;AACAb,uBAAO,CAACC,GAAR,CAAYG,KAAK,CAAClB,WAAlB;;AACA,sBAAI,CAACd,MAAL,CAAYsC,YAAZ,CAAyBN,KAAK,CAAClB,WAA/B;AACD,eAdD;AAeD;AACF;AA5HwB;AAAA;AAAA,iBA8HzB,qBAAY4B,OAAZ,EAAqB;AACnBd,mBAAO,CAACC,GAAR,CAAYa,OAAO,CAACN,MAApB;AACA,iBAAK9B,UAAL,GAAkB,IAAlB;AACA,iBAAKE,OAAL,GAAe,gBAAf;AACA,iBAAKD,SAAL,GAAiBmC,OAAO,CAACC,GAAzB;AACA,iBAAKjC,cAAL,CAAoBkC,QAApB,CAA6B,MAA7B,EAAqCC,QAArC,CAA8CH,OAAO,CAAC9B,IAAtD;AACA,iBAAKF,cAAL,CAAoBkC,QAApB,CAA6B,aAA7B,EAA4CC,QAA5C,CAAqDH,OAAO,CAAC5B,WAA7D;AACA,iBAAKL,aAAL,GAAqBiC,OAAO,CAACN,MAAR,GAAiBM,OAAO,CAACN,MAAzB,GAAmC,EAAxD;AACAR,mBAAO,CAACC,GAAR,CAAY,KAAKpB,aAAjB;AACD;AAvIwB;AAAA;AAAA,iBAyInB,4BAAmBiC,OAAnB,EAA0B;;;;;;;;;;AAChB,6BAAM,KAAK3C,SAAL,CAAe+C,MAAf,CAAsB;AACxCC,8BAAM,EAAE,gBADgC;AAExCR,+BAAO,EAAE,2BAA0BG,OAAO,CAAC9B,IAAlC,GAAyC,kBAFV;AAGxCoC,+BAAO,EAAE,CACP;AACEC,8BAAI,EAAE,QADR;AAEEC,8BAAI,EAAE,QAFR;AAGEC,kCAAQ,EAAE,WAHZ;AAIEC,iCAAO,EAAE,iBAACC,IAAD,EAAU,CAAE;AAJvB,yBADO,EAMJ;AACDJ,8BAAI,EAAE,QADL;AAEDG,iCAAO,EAAE,mBAAM;AACb,kCAAI,CAACE,aAAL,CAAmBZ,OAAO,CAACC,GAA3B;AACD;AAJA,yBANI;AAH+B,uBAAtB,CAAN;;;AAARY,2B;;AAkBN,6BAAMA,KAAK,CAACpB,OAAN,EAAN;;;;;;;;;AACD;AA7JwB;AAAA;AAAA,iBA8JzB,uBAAc5B,SAAd,EAAyB;AAAA;;AACvB,gBAAMgB,MAAM,GAAG;AACbH,mBAAK,EAAE,KAAKA,KADC;AAEbb,uBAAS,EAAEA,SAFE;AAGbc,mBAAK,EAAG,KAAKA;AAHA,aAAf;AAKA,iBAAKzB,WAAL,CAAiB4B,WAAjB,CAA6B,KAAKpB,GAAL,GAAW,uDAAQkD,aAAhD,EAA+D/B,MAA/D,EAAuEE,SAAvE,CACE,UAAOC,MAAP;AAAA,qBAAkB;AAAA;AAAA;AAAA;AAAA;AAChB,4BAAIA,MAAM,CAACC,OAAX,EAAoB;AAClB,+BAAK3B,MAAL,CAAYsC,YAAZ,CAAyBZ,MAAM,CAACa,OAAhC;;AACA,+BAAKjB,YAAL;AACD;;AAJe;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,iBAAlB;AAAA,aADF,GAOG,UAACU,KAAD,EAAW;AACZJ,qBAAO,CAACC,GAAR,CAAYG,KAAK,CAAClB,WAAlB;;AACA,oBAAI,CAACd,MAAL,CAAYsC,YAAZ,CAAyBN,KAAK,CAAClB,WAA/B;AACD,aAVD;AAWD;AA/KwB;AAAA;AAAA,iBAgLzB,kBAAS;AACP,iBAAKR,UAAL,GAAkB,CAAC,KAAKA,UAAxB;AACD;AAlLwB;AAAA;AAAA,iBAqLzB,qBAAYkD,CAAZ,EAAe;AACb,iBAAK/C,aAAL,CAAmBgD,MAAnB,CAA0BD,CAA1B,EAA6B,CAA7B;AACD;AAvLwB;AAAA;AAAA,iBAyLnB,qBAAY;;;;;;;;;AACVE,6B,GAAyB;AAC7BC,+BAAO,EAAE,GADoB;AAE7BC,oCAAY,EAAE,KAFe;AAG7BC,kCAAU,EAAE,iEAAiBC,MAHA;AAI7BC,8BAAM,EAAE,GAJqB;AAK7BC,6BAAK,EAAE;AALsB,uB;;AAOb,6BAAMtE,MAAM,CAACuE,QAAP,CAAgBP,OAAhB,CAAN;;;AAAZQ,+B;;AACN,0BAAIA,SAAS,CAACC,YAAd,EAA4B;AACpBC,8BADoB,GACX,4BAA4BF,SAAS,CAACC,YAD3B;AAE1B,6BAAKrE,MAAL,CAAYqC,OAAZ;AACIZ,8BAHsB,GAGb;AACX8C,8BAAI,EAAE;AACJC,gCAAI,EAAE,OADF;AAEJlD,iCAAK,EAAE,KAAKA,KAFR;AAGJC,iCAAK,EAAE,KAAKA;AAHR,2BADK;AAMX+C,gCAAM,EAAEA,MANG;AAOX,oCAAQ;AAPG,yBAHa;AAYtBhE,2BAZsB,GAYhB,KAAKA,GAAL,GAAW,mDAAImE,WAZC;;AAa1B,6BAAK3E,WAAL,CAAiB4E,iBAAjB,CAAmCpE,GAAnC,EAAwCmB,MAAxC,EAAgDN,IAAhD,CAAqD,UAACwD,QAAD,EAAmB;AACtE,gCAAI,CAAC3E,MAAL,CAAY2C,OAAZ;;AACA,8BAAIgC,QAAQ,CAAC9C,OAAb,EAAsB;AACpB,gCAAI8C,QAAQ,CAAC3C,IAAT,IAAiB2C,QAAQ,CAAC3C,IAAT,CAAc1B,GAAnC,EAAwC;AACtCwB,qCAAO,CAACC,GAAR,CAAY4C,QAAQ,CAAC3C,IAAT,CAAc1B,GAA1B;;AACA,oCAAI,CAACF,IAAL,CAAUwE,GAAV,CAAc,YAAM;AAClB,sCAAI,CAACjE,aAAL,CAAmBkE,IAAnB,CAAwBF,QAAQ,CAAC3C,IAAT,CAAc1B,GAAtC;AACD,+BAFD;AAGD;AACF;AACF,yBAVD;AAWD;;;;;;;;;AACF;AA3NwB;;AAAA;AAAA,S;;;;gBAblB;;gBAJW;;gBAGX;;gBAFuB;;gBACvB;;gBAIA;;gBAPW;;gBAEX;;;;AAgBIT,oBAAc,6DAL1B,gEAAU;AACTiF,gBAAQ,EAAE,iBADD;AAETC,gBAAQ,EAAR;AAAA;AAAA,oHAFS;;;;AAAA,OAAV,CAK0B,GAAdlF,cAAc,CAAd","file":"pages-admin-add-feature-add-feature-module-es5.js","sourcesContent":["export default \"<ion-header>\\r\\n  <ion-toolbar *ngIf=\\\"!addAmenity\\\">\\r\\n    <ion-title>Features</ion-title>\\r\\n    <ion-buttons slot=\\\"start\\\">\\r\\n      <ion-back-button color=\\\"unit-btn\\\" text=\\\"\\\" icon=\\\"chevron-back-outline\\\"></ion-back-button>\\r\\n    </ion-buttons>\\r\\n  </ion-toolbar>\\r\\n  <ion-toolbar *ngIf=\\\"addAmenity\\\">\\r\\n    <ion-title>{{btnText}}</ion-title>\\r\\n    <ion-buttons slot=\\\"end\\\" class=\\\"cancel\\\" (click)=\\\"cancel()\\\">\\r\\n      <span>\\r\\n        <ion-icon name=\\\"close\\\"></ion-icon>\\r\\n      </span>\\r\\n    </ion-buttons>\\r\\n  </ion-toolbar>\\r\\n</ion-header>\\r\\n<ion-content *ngIf=\\\"!addAmenity\\\">\\r\\n\\r\\n  <ion-list style=\\\"width: 100%;\\\" *ngIf=\\\"amenities.length\\\">\\r\\n    <ion-item-sliding *ngFor=\\\"let amenity of amenities\\\">\\r\\n\\r\\n      <ion-item>\\r\\n        <ion-label>\\r\\n          <ion-grid>\\r\\n            <ion-row>\\r\\n              <ion-col class=\\\"ion-align-self-start\\\" size=\\\"9\\\">\\r\\n                <h2 style=\\\"font-weight: bold;\\\">{{amenity?.name}}</h2>\\r\\n                <h6>{{amenity?.description}}</h6>\\r\\n              </ion-col>\\r\\n              <ion-col class=\\\"ion-align-self-end\\\" size=\\\"3\\\">\\r\\n                <!-- <h3 style=\\\"text-align: end;\\\" *ngIf=\\\"amenity.price\\\">Price: ${{amenity?.price}} </h3> -->\\r\\n              </ion-col>\\r\\n            </ion-row>\\r\\n          </ion-grid>\\r\\n        </ion-label>\\r\\n      </ion-item>\\r\\n\\r\\n      <!-- ITEM SLIDER -->\\r\\n      <ion-item-options>\\r\\n        <ion-item-option (click)=\\\"editAmenity(amenity)\\\" color=\\\"primary\\\">\\r\\n          <ion-icon slot=\\\"top\\\" name=\\\"pencil\\\"></ion-icon>\\r\\n          <ion-label>Edit</ion-label>\\r\\n        </ion-item-option>\\r\\n\\r\\n        <ion-item-option (click)=\\\"deleteAmenityAlert(amenity)\\\" color=\\\"danger\\\">\\r\\n          <ion-icon slot=\\\"top\\\" name=\\\"trash\\\"></ion-icon>\\r\\n          <ion-label> Delete </ion-label>\\r\\n        </ion-item-option>\\r\\n      </ion-item-options>\\r\\n    </ion-item-sliding>\\r\\n  </ion-list>\\r\\n\\r\\n  <ion-fab horizontal=\\\"end\\\" vertical=\\\"bottom\\\" slot=\\\"fixed\\\">\\r\\n    <ion-fab-button class=\\\"round-shadow\\\" (click)=\\\"add()\\\">\\r\\n      <ion-icon name=\\\"add\\\"></ion-icon>\\r\\n    </ion-fab-button>\\r\\n  </ion-fab>\\r\\n</ion-content>\\r\\n\\r\\n<ion-content *ngIf=\\\"addAmenity\\\">\\r\\n  <form [formGroup]=\\\"addAmenityForm\\\">\\r\\n    <ion-item lines=\\\"none\\\" class=\\\"item-space\\\">\\r\\n      <ion-label position=\\\"stacked\\\">\\r\\n        Name\\r\\n      </ion-label>\\r\\n      <ion-input placeholder=\\\"Feature name\\\" type=\\\"Text\\\" formControlName=\\\"name\\\"></ion-input>\\r\\n    </ion-item>\\r\\n    <ion-item lines=\\\"none\\\" class=\\\"item-space\\\">\\r\\n      <ion-label position=\\\"stacked\\\">\\r\\n        Description\\r\\n      </ion-label>\\r\\n      <ion-input placeholder=\\\"Feature description\\\" type=\\\"Text\\\" formControlName=\\\"description\\\"></ion-input>\\r\\n    </ion-item>\\r\\n    <ion-item>\\r\\n      <ion-label position=\\\"stacked\\\">Add Images</ion-label>\\r\\n      <ion-grid>\\r\\n        <ion-row>\\r\\n          <ion-col text-center>\\r\\n            <ion-button (click)=\\\"getImages()\\\">Choose Images</ion-button>\\r\\n          </ion-col>\\r\\n        </ion-row>\\r\\n        <ion-row>\\r\\n          <ion-col>\\r\\n            <div class=\\\"images\\\">\\r\\n              <div class=\\\"one-image\\\" *ngFor=\\\"let img of imageResponse; let i = index\\\">\\r\\n                <img src=\\\"{{img}}\\\" alt=\\\"\\\" srcset=\\\"\\\">\\r\\n                <ion-button class=\\\"close-icon\\\" color=\\\"danger\\\" (click)=\\\"deleteImage(i)\\\">\\r\\n                  <ion-icon name=\\\"trash-outline\\\"></ion-icon>\\r\\n                </ion-button>\\r\\n              </div>\\r\\n            </div>\\r\\n          </ion-col>\\r\\n        </ion-row>\\r\\n      </ion-grid>\\r\\n    </ion-item>\\r\\n  </form>\\r\\n</ion-content>\\r\\n<ion-footer *ngIf=\\\"addAmenity\\\" class=\\\"ion-no-border\\\">\\r\\n  <ion-toolbar>\\r\\n    <div class=\\\"ion-padding\\\">\\r\\n      <ion-button color=\\\"unit-btn\\\" expand=\\\"block\\\" class=\\\"shadow\\\" [disabled]=\\\"!addAmenityForm.valid  && !imageResponse.length \\\" (click)=\\\"submit()\\\">\\r\\n        {{btnText}}\\r\\n      </ion-button>\\r\\n    </div>\\r\\n  </ion-toolbar>\\r\\n</ion-footer>\\r\\n\";","import { NgModule } from '@angular/core';\r\nimport { Routes, RouterModule } from '@angular/router';\r\n\r\nimport { AddFeaturePage } from './add-feature.page';\r\n\r\nconst routes: Routes = [\r\n  {\r\n    path: '',\r\n    component: AddFeaturePage\r\n  }\r\n];\r\n\r\n@NgModule({\r\n  imports: [RouterModule.forChild(routes)],\r\n  exports: [RouterModule],\r\n})\r\nexport class AddFeaturePageRoutingModule {}\r\n","import { NgModule } from '@angular/core';\r\nimport { CommonModule } from '@angular/common';\r\nimport { FormsModule, ReactiveFormsModule } from '@angular/forms';\r\n\r\nimport { IonicModule } from '@ionic/angular';\r\n\r\nimport { AddFeaturePageRoutingModule } from './add-feature-routing.module';\r\n\r\nimport { AddFeaturePage } from './add-feature.page';\r\n\r\n\r\n@NgModule({\r\n  imports: [\r\n    CommonModule,\r\n    FormsModule,\r\n    IonicModule,\r\n    AddFeaturePageRoutingModule,\r\n    ReactiveFormsModule\r\n  ],\r\n  providers: [],\r\n  declarations: [AddFeaturePage]\r\n})\r\nexport class AddFeaturePageModule {}\r\n","export default \".label-stacked.sc-ion-label-ios-h {\\n  margin-bottom: 4px;\\n  font-size: 14px;\\n  font-weight: bold;\\n  color: darkgray;\\n}\\n\\nion-item.sc-ion-textarea-ios-h:not(.item-label),\\nion-item:not(.item-label) .sc-ion-textarea-ios-h {\\n  border: solid 1px #d7d8da;\\n  height: 100px;\\n  border-radius: 10px;\\n  padding: 5px;\\n}\\n\\n.cancel {\\n  margin-right: 5px;\\n  font-size: x-large;\\n}\\n\\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbInNyYy9hcHAvcGFnZXMvYWRtaW4vYWRkLWZlYXR1cmUvYWRkLWZlYXR1cmUucGFnZS5zY3NzIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiJBQUFBO0VBQ0ksa0JBQWtCO0VBQ2xCLGVBQWU7RUFDZixpQkFBaUI7RUFDakIsZUFBZTtBQUNuQjs7QUFFRTs7RUFFRSx5QkFBeUI7RUFDekIsYUFBYTtFQUNiLG1CQUFtQjtFQUNuQixZQUFZO0FBQ2hCOztBQUlFO0VBQ0UsaUJBQWlCO0VBQ2pCLGtCQUFrQjtBQUR0QiIsImZpbGUiOiJzcmMvYXBwL3BhZ2VzL2FkbWluL2FkZC1mZWF0dXJlL2FkZC1mZWF0dXJlLnBhZ2Uuc2NzcyIsInNvdXJjZXNDb250ZW50IjpbIi5sYWJlbC1zdGFja2VkLnNjLWlvbi1sYWJlbC1pb3MtaCB7XHJcbiAgICBtYXJnaW4tYm90dG9tOiA0cHg7XHJcbiAgICBmb250LXNpemU6IDE0cHg7XHJcbiAgICBmb250LXdlaWdodDogYm9sZDtcclxuICAgIGNvbG9yOiBkYXJrZ3JheTtcclxuICB9XHJcbiAgXHJcbiAgaW9uLWl0ZW0uc2MtaW9uLXRleHRhcmVhLWlvcy1oOm5vdCguaXRlbS1sYWJlbCksXHJcbiAgaW9uLWl0ZW06bm90KC5pdGVtLWxhYmVsKSAuc2MtaW9uLXRleHRhcmVhLWlvcy1oIHtcclxuICAgIGJvcmRlcjogc29saWQgMXB4ICNkN2Q4ZGE7XHJcbiAgICBoZWlnaHQ6IDEwMHB4O1xyXG4gICAgYm9yZGVyLXJhZGl1czogMTBweDtcclxuICAgIHBhZGRpbmc6IDVweDtcclxuICB9XHJcbiAgXHJcblxyXG4gICAgXHJcbiAgLmNhbmNlbHtcclxuICAgIG1hcmdpbi1yaWdodDogNXB4O1xyXG4gICAgZm9udC1zaXplOiB4LWxhcmdlO1xyXG4gIH0iXX0= */\";","import { Component, NgZone, OnInit } from '@angular/core';\r\nimport { FormGroup, FormBuilder, FormControl, Validators } from '@angular/forms';\r\nimport { ActionSheetController, AlertController } from '@ionic/angular';\r\nimport { ToastService } from 'src/app/services/toast.service';\r\nimport { LoaderService } from 'src/app/services/loader.service';\r\nimport { ApiService } from 'src/app/services/api-service.service';\r\nimport { config, UNITURL,URL } from '../../config/config';\r\nimport { Storage } from '@ionic/storage';\r\nimport { Plugins, CameraResultType, CameraOptions, CameraSource } from '@capacitor/core';\r\n\r\nconst { Camera } = Plugins;\r\n\r\n\r\n@Component({\r\n  selector: 'app-add-feature',\r\n  templateUrl: './add-feature.page.html',\r\n  styleUrls: ['./add-feature.page.scss'],\r\n})\r\nexport class AddFeaturePage implements OnInit {\r\n\r\n  private url: any = config.url;\r\n  amenities: any = [];\r\n  addAmenity: boolean = false;\r\n  private addAmenityForm: FormGroup;\r\n  token: string;\r\n  amenityId: any = '';\r\n  btnText: string = 'Add Feature';\r\n  imageResponse: any = [];\r\n  orgId: any;\r\n\r\n  constructor(\r\n    private _apiService: ApiService,\r\n    private _fb: FormBuilder,\r\n    private loader: LoaderService,\r\n    private alertCtrl: AlertController,\r\n    private _toast: ToastService,\r\n    private storage : Storage,\r\n    private zone: NgZone,\r\n    public actionSheetController: ActionSheetController\r\n  ) {\r\n    this.addAmenityForm = this._fb.group({\r\n      name: new FormControl('', Validators.required),\r\n      description: new FormControl('', Validators.required)\r\n    });\r\n  }\r\n\r\n  ngOnInit() {\r\n    this.getUserData();\r\n  }\r\n\r\n  getUserData() {\r\n    this.storage.get(\"session\").then((session) => {\r\n      if (session) {\r\n        this.storage.get(\"org\").then((org) =>{\r\n          if(org){\r\n            this.token = session;\r\n            this.orgId = org;\r\n            this.getAmenities();\r\n          }\r\n        });\r\n      }\r\n    });\r\n  }\r\n\r\n  getAmenities() {\r\n    if (this.token) {\r\n          const params = {\r\n            token: this.token,\r\n            orgId : this.orgId\r\n          }\r\n          this._apiService.postRequest(this.url + UNITURL.amenities, params).subscribe(\r\n            async (result) => {\r\n              if (result.success) {\r\n                console.log(result.data.list);\r\n                this.amenities = result.data.list;\r\n              }\r\n            }\r\n          ), (error) => {\r\n            console.log(error.description);\r\n          }\r\n        \r\n    }\r\n  }\r\n  add() {\r\n    console.log('add');\r\n    this.addAmenity = true;\r\n    this.amenityId = '';\r\n    this.btnText = 'Add Feature';\r\n  }\r\n\r\n  submit() {\r\n    console.log(this.amenityId);\r\n    let formValue = this.addAmenityForm.value;\r\n    if (this.amenityId) {\r\n      this.loader.present();\r\n      const params = {\r\n        amenityId: this.amenityId,\r\n        token: this.token,\r\n        name: formValue.name,\r\n        description: formValue.description,\r\n        images: this.imageResponse,\r\n        orgId : this.orgId\r\n      }\r\n      this._apiService.postRequest(this.url + UNITURL.updateAmenity, params).subscribe(\r\n        async (result) => {\r\n          if (result.success) {\r\n            this._toast.presentToast(result.message);\r\n            this.addAmenityForm.reset();\r\n            this.addAmenity = false;\r\n            this.getAmenities();\r\n          }\r\n          this.loader.dismiss();\r\n        }\r\n      ), (error) => {\r\n        this.loader.dismiss();\r\n        console.log(error.description);\r\n        this._toast.presentToast(error.description);\r\n      }\r\n    } else {\r\n      const params = {\r\n        token: this.token,\r\n        name: formValue.name,\r\n        description: formValue.description,\r\n        images: this.imageResponse,\r\n        orgId : this.orgId\r\n      }\r\n      this._apiService.postRequest(this.url + UNITURL.addAmenity, params).subscribe(\r\n        async (result) => {\r\n          if (result.success) {\r\n            this._toast.presentToast(result.message);\r\n            this.addAmenityForm.reset();\r\n            this.addAmenity = false;\r\n            this.getAmenities();\r\n          }\r\n          this.loader.dismiss();\r\n        }\r\n      ), (error) => {\r\n        this.loader.dismiss();\r\n        console.log(error.description);\r\n        this._toast.presentToast(error.description);\r\n      }\r\n    }\r\n  }\r\n\r\n  editAmenity(amenity) {\r\n    console.log(amenity.images);\r\n    this.addAmenity = true;\r\n    this.btnText = 'Update Feature';\r\n    this.amenityId = amenity._id;\r\n    this.addAmenityForm.controls['name'].setValue(amenity.name);\r\n    this.addAmenityForm.controls['description'].setValue(amenity.description);\r\n    this.imageResponse = amenity.images ? amenity.images  : [];\r\n    console.log(this.imageResponse);\r\n  }\r\n\r\n  async deleteAmenityAlert(amenity){\r\n    const alert = await this.alertCtrl.create({\r\n      header: 'Delete Feature',\r\n      message: 'Do you want to delete '+ amenity.name + ' from Features ?',\r\n      buttons: [\r\n        {\r\n          text: 'Cancel',\r\n          role: 'cancel',\r\n          cssClass: 'secondary',\r\n          handler: (blah) => {}\r\n        }, {\r\n          text: 'Delete',\r\n          handler: () => {\r\n            this.deleteAmenity(amenity._id);\r\n          }\r\n        }\r\n      ]\r\n    });\r\n\r\n    await alert.present();\r\n  }\r\n  deleteAmenity(amenityId) {\r\n    const params = {\r\n      token: this.token,\r\n      amenityId: amenityId,\r\n      orgId : this.orgId\r\n    }\r\n    this._apiService.postRequest(this.url + UNITURL.deleteAmenity, params).subscribe(\r\n      async (result) => {\r\n        if (result.success) {\r\n          this._toast.presentToast(result.message);\r\n          this.getAmenities();\r\n        }\r\n      }\r\n    ), (error) => {\r\n      console.log(error.description);\r\n      this._toast.presentToast(error.description);\r\n    }\r\n  }\r\n  cancel() {\r\n    this.addAmenity = !this.addAmenity;\r\n  }\r\n\r\n\r\n  deleteImage(i) {\r\n    this.imageResponse.splice(i, 1);\r\n  }\r\n\r\n  async getImages() {\r\n    const options: CameraOptions = {\r\n      quality: 100,\r\n      allowEditing: false,\r\n      resultType: CameraResultType.Base64,\r\n      height: 250,\r\n      width: 250\r\n    };\r\n    const imageData = await Camera.getPhoto(options);\r\n    if (imageData.base64String) {\r\n      const base64 = 'data:image/jpeg;base64,' + imageData.base64String;\r\n      this.loader.present();\r\n      let params = {\r\n        auth: {\r\n          type: 'token',\r\n          token: this.token,\r\n          orgId: this.orgId\r\n        },\r\n        base64: base64,\r\n        public: true\r\n      };\r\n      let url = this.url + URL.imageUpload;\r\n      this._apiService.uploadBase64image(url, params).then((response: any) => {\r\n        this.loader.dismiss();\r\n        if (response.success) {\r\n          if (response.data && response.data.url) {\r\n            console.log(response.data.url);\r\n            this.zone.run(() => {\r\n              this.imageResponse.push(response.data.url);\r\n            });\r\n          }\r\n        }\r\n      });\r\n    }\r\n  }\r\n}\r\n"]}