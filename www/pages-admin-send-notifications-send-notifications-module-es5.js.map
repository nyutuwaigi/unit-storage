{"version":3,"sources":["webpack:///src/app/pages/admin/send-notifications/send-notifications.page.html","webpack:///src/app/pages/admin/send-notifications/send-notifications-routing.module.ts","webpack:///src/app/pages/admin/send-notifications/send-notifications.module.ts","webpack:///src/app/pages/admin/send-notifications/send-notifications.page.scss","webpack:///src/app/pages/admin/send-notifications/send-notifications.page.ts"],"names":["routes","path","component","SendNotificationsPageRoutingModule","imports","forChild","exports","SendNotificationsPageModule","declarations","SendNotificationsPage","formBuilder","loader","api","_toast","storage","url","notificationForm","group","title","required","body","getUserData","get","then","session","org","token","orgId","present","params","value","bodyOfNotification","console","log","postRequest","adminNotfication","subscribe","result","dismiss","presentToast","message","success","reset","error","selector","template"],"mappings":"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","file":"pages-admin-send-notifications-send-notifications-module-es5.js","sourcesContent":["export default \"<ion-header>\\r\\n  <ion-toolbar>\\r\\n    <ion-title>Send notification</ion-title>\\r\\n    <ion-buttons slot=\\\"start\\\">\\r\\n      <ion-back-button color=\\\"unit-btn\\\" text=\\\"\\\" icon=\\\"chevron-back-outline\\\"></ion-back-button>\\r\\n    </ion-buttons>\\r\\n  </ion-toolbar>\\r\\n</ion-header>\\r\\n\\r\\n<ion-content>\\r\\n<form [formGroup]=\\\"notificationForm\\\">\\r\\n  <ion-item lines=\\\"none\\\" class=\\\"item-space\\\">\\r\\n    <ion-label position=\\\"stacked\\\">\\r\\n      Title\\r\\n    </ion-label>\\r\\n    <ion-input formControlName=\\\"title\\\" placeholder=\\\"Title\\\"> </ion-input>\\r\\n  </ion-item>\\r\\n\\r\\n  <ion-item lines=\\\"none\\\" class=\\\"item-space\\\">\\r\\n    <ion-label position=\\\"stacked\\\"> Message</ion-label>\\r\\n    <ion-textarea formControlName=\\\"body\\\" placeholder=\\\"Message\\\"></ion-textarea>\\r\\n  </ion-item>\\r\\n</form>\\r\\n\\r\\n</ion-content>\\r\\n\\r\\n<ion-footer class=\\\"ion-no-border\\\">\\r\\n  <ion-toolbar>\\r\\n    <div class=\\\"ion-padding\\\">\\r\\n      <ion-button class=\\\"shadow\\\" color=\\\"unit-btn\\\" expand=\\\"block\\\" [disabled]=\\\"!notificationForm.valid\\\" (click)=\\\"send()\\\">\\r\\n        Send\\r\\n      </ion-button>\\r\\n    </div>\\r\\n  </ion-toolbar>\\r\\n</ion-footer>\";","import { NgModule } from '@angular/core';\r\nimport { Routes, RouterModule } from '@angular/router';\r\n\r\nimport { SendNotificationsPage } from './send-notifications.page';\r\n\r\nconst routes: Routes = [\r\n  {\r\n    path: '',\r\n    component: SendNotificationsPage\r\n  }\r\n];\r\n\r\n@NgModule({\r\n  imports: [RouterModule.forChild(routes)],\r\n  exports: [RouterModule],\r\n})\r\nexport class SendNotificationsPageRoutingModule {}\r\n","import { NgModule } from '@angular/core';\r\nimport { CommonModule } from '@angular/common';\r\nimport { FormsModule,ReactiveFormsModule } from '@angular/forms';\r\n\r\nimport { IonicModule } from '@ionic/angular';\r\n\r\nimport { SendNotificationsPageRoutingModule } from './send-notifications-routing.module';\r\n\r\nimport { SendNotificationsPage } from './send-notifications.page';\r\n\r\n@NgModule({\r\n  imports: [\r\n    CommonModule,\r\n    FormsModule,\r\n    IonicModule,\r\n    ReactiveFormsModule,\r\n    SendNotificationsPageRoutingModule\r\n  ],\r\n  declarations: [SendNotificationsPage]\r\n})\r\nexport class SendNotificationsPageModule {}\r\n","export default \".label-stacked.sc-ion-label-ios-h {\\n  margin-bottom: 4px;\\n  font-size: 14px;\\n  font-weight: bold;\\n  color: darkgray;\\n}\\n\\nion-item.sc-ion-textarea-ios-h:not(.item-label),\\nion-item:not(.item-label) .sc-ion-textarea-ios-h {\\n  border: solid 1px #d7d8da;\\n  height: 100px;\\n  border-radius: 10px;\\n  padding: 5px;\\n}\\n\\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbInNyYy9hcHAvcGFnZXMvYWRtaW4vc2VuZC1ub3RpZmljYXRpb25zL3NlbmQtbm90aWZpY2F0aW9ucy5wYWdlLnNjc3MiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IkFBQUE7RUFDSSxrQkFBa0I7RUFDbEIsZUFBZTtFQUNmLGlCQUFpQjtFQUNqQixlQUFlO0FBQ25COztBQUVFOztFQUVFLHlCQUF5QjtFQUN6QixhQUFhO0VBQ2IsbUJBQW1CO0VBQ25CLFlBQVk7QUFDaEIiLCJmaWxlIjoic3JjL2FwcC9wYWdlcy9hZG1pbi9zZW5kLW5vdGlmaWNhdGlvbnMvc2VuZC1ub3RpZmljYXRpb25zLnBhZ2Uuc2NzcyIsInNvdXJjZXNDb250ZW50IjpbIi5sYWJlbC1zdGFja2VkLnNjLWlvbi1sYWJlbC1pb3MtaCB7XHJcbiAgICBtYXJnaW4tYm90dG9tOiA0cHg7XHJcbiAgICBmb250LXNpemU6IDE0cHg7XHJcbiAgICBmb250LXdlaWdodDogYm9sZDtcclxuICAgIGNvbG9yOiBkYXJrZ3JheTtcclxuICB9XHJcbiAgXHJcbiAgaW9uLWl0ZW0uc2MtaW9uLXRleHRhcmVhLWlvcy1oOm5vdCguaXRlbS1sYWJlbCksXHJcbiAgaW9uLWl0ZW06bm90KC5pdGVtLWxhYmVsKSAuc2MtaW9uLXRleHRhcmVhLWlvcy1oIHtcclxuICAgIGJvcmRlcjogc29saWQgMXB4ICNkN2Q4ZGE7XHJcbiAgICBoZWlnaHQ6IDEwMHB4O1xyXG4gICAgYm9yZGVyLXJhZGl1czogMTBweDtcclxuICAgIHBhZGRpbmc6IDVweDtcclxuICB9XHJcbiAgIl19 */\";","import { Component, OnInit } from '@angular/core';\r\nimport { FormGroup, FormBuilder, FormControl, Validators } from '@angular/forms';\r\nimport { ApiService } from 'src/app/services/api-service.service';\r\nimport { LoaderService } from 'src/app/services/loader.service';\r\nimport { ToastService } from 'src/app/services/toast.service';\r\nimport { config, UNITURL } from '../../config/config';\r\nimport { Storage } from '@ionic/storage';\r\n\r\n\r\n@Component({\r\n  selector: 'app-send-notifications',\r\n  templateUrl: './send-notifications.page.html',\r\n  styleUrls: ['./send-notifications.page.scss'],\r\n})\r\nexport class SendNotificationsPage implements OnInit {\r\n\r\n  private notificationForm: FormGroup;\r\n  url: any = config.url;\r\n  token: any;\r\n  orgId: any;\r\n  \r\n  constructor(\r\n    private formBuilder: FormBuilder,\r\n    private loader: LoaderService,\r\n    private api: ApiService,\r\n    private _toast: ToastService,\r\n    private storage : Storage\r\n    ) { \r\n    this.notificationForm = this.formBuilder.group({\r\n      title: new FormControl('', Validators.required),\r\n      body: new FormControl('', Validators.required)\r\n    });\r\n\r\n  }\r\n\r\n  ngOnInit() {\r\n    this.getUserData();\r\n  }\r\n\r\n  getUserData() {\r\n    this.storage.get(\"session\").then((session) => {\r\n      if (session) {\r\n        this.storage.get(\"org\").then((org) =>{\r\n          if(org){\r\n            this.token = session;\r\n            this.orgId = org;\r\n          }\r\n        });\r\n      }\r\n    });\r\n  }\r\n\r\n  send(){\r\n    this.loader.present();\r\n    if (this.token) {\r\n        const params = {\r\n          orgId : this.orgId,\r\n          token: this.token,\r\n          title: this.notificationForm.value.title,\r\n          bodyOfNotification: this.notificationForm.value.body\r\n        }\r\n        console.log(params);\r\n        this.api.postRequest(this.url + UNITURL.adminNotfication,\r\n          params).subscribe(\r\n            async (result) => {\r\n              this.loader.dismiss();\r\n              this._toast.presentToast(result.message);\r\n\r\n              if (result.success) {\r\n                this.notificationForm.reset();\r\n              } else {\r\n              }\r\n            }\r\n          ), (error) => {\r\n            this.loader.dismiss();\r\n            console.log('error', error)\r\n          }\r\n      }\r\n  }\r\n}\r\n"]}