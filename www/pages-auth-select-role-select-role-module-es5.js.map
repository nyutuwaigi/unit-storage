{"version":3,"sources":["webpack:///src/app/pages/auth/select-role/select-role.page.html","webpack:///src/app/pages/auth/select-role/select-role-routing.module.ts","webpack:///src/app/pages/auth/select-role/select-role.module.ts","webpack:///src/app/pages/auth/select-role/select-role.page.scss","webpack:///src/app/pages/auth/select-role/select-role.page.ts"],"names":["routes","path","component","SelectRolePageRoutingModule","imports","forChild","exports","SelectRolePageModule","declarations","SelectRolePage","router","route","_apiService","alertCtrl","_toast","_loader","url","roles","queryParams","subscribe","params","special","signInData","JSON","parse","console","log","options","create","header","message","buttons","alert","present","getRoles","apiKey","apikey","postRequest","getOnboardRoles","res","success","data","length","i","image","text","presentAlert","err","roleId","signUp","firstName","lastName","password","email","dismiss","presentToast","navigate","user","phoneno","navigationExtras","stringify","selector","template"],"mappings":";;;;;;;;;;;;;;;;;;;;AAAA;AAAe;;;AAAA;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;ACKf,UAAMA,MAAM,GAAW,CACrB;AACEC,YAAI,EAAE,EADR;AAEEC,iBAAS,EAAE;AAFb,OADqB,CAAvB;;UAWaC,2BAA2B;AAAA;AAAA,O;;AAA3BA,iCAA2B,6DAJvC,+DAAS;AACRC,eAAO,EAAE,CAAC,6DAAaC,QAAb,CAAsBL,MAAtB,CAAD,CADD;AAERM,eAAO,EAAE,CAAC,4DAAD;AAFD,OAAT,CAIuC,GAA3BH,2BAA2B,CAA3B;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;UCGAI,oBAAoB;AAAA;AAAA,O;;AAApBA,0BAAoB,6DAThC,+DAAS;AACRH,eAAO,EAAE,CACP,4DADO,EAEP,0DAFO,EAGP,0DAHO,EAIP,uFAJO,CADD;AAORI,oBAAY,EAAE,CAAC,gEAAD;AAPN,OAAT,CASgC,GAApBD,oBAAoB,CAApB;;;;;;;;;;;;;;;;ACnBb;AAAe;;;AAAA;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;UCaFE,cAAc;AAIzB,gCACUC,MADV,EAEUC,KAFV,EAGUC,WAHV,EAIUC,SAJV,EAKUC,MALV,EAMUC,OANV,EAMiC;AAAA;;AAAA;;AALvB,eAAAL,MAAA,GAAAA,MAAA;AACA,eAAAC,KAAA,GAAAA,KAAA;AACA,eAAAC,WAAA,GAAAA,WAAA;AACA,eAAAC,SAAA,GAAAA,SAAA;AACA,eAAAC,MAAA,GAAAA,MAAA;AACA,eAAAC,OAAA,GAAAA,OAAA;AARF,eAAAC,GAAA,GAAW,sDAAOA,GAAlB;AACR,eAAAC,KAAA,GAAa,EAAb;AASE,eAAKN,KAAL,CAAWO,WAAX,CAAuBC,SAAvB,CAAiC,UAAAC,MAAM,EAAI;AACzC,gBAAIA,MAAM,IAAIA,MAAM,CAACC,OAArB,EAA8B;AAC5B,mBAAI,CAACC,UAAL,GAAkBC,IAAI,CAACC,KAAL,CAAWJ,MAAM,CAACC,OAAlB,CAAlB;AACAI,qBAAO,CAACC,GAAR,CAAY,KAAI,CAACJ,UAAjB;AACD;AACF,WALD;AAMA;;AAlBuB;AAAA;AAAA,iBAqBlB,sBAAaK,OAAb,EAAsB;;;;;;;;AACb,6BAAM,KAAKd,SAAL,CAAee,MAAf,CAAsB;AACxCC,8BAAM,EAAEF,OAAO,CAACE,MAAR,GAAiBF,OAAO,CAACE,MAAzB,GAAkC,OADF;AAExCC,+BAAO,EAAEH,OAAO,CAACG,OAAR,GAAkBH,OAAO,CAACG,OAA1B,GAAoC,EAFL;AAGxCC,+BAAO,EAAEJ,OAAO,CAACI;AAHuB,uBAAtB,CAAN;;;AAARC,2B;;AAKN,6BAAMA,KAAK,CAACC,OAAN,EAAN;;;;;;;;;AACD;AA5BwB;AAAA;AAAA,iBA8BzB,oBAAW;AACT,iBAAKC,QAAL;AACD;AAhCwB;AAAA;AAAA,iBAiCzB,oBAAW;AAAA;;AACT,gBAAMd,MAAM,GAAG;AACbe,oBAAM,EAAG,mDAAIC;AADA,aAAf;;AAGA,iBAAKxB,WAAL,CACCyB,WADD,CACa,KAAKrB,GAAL,GAAW,mDAAIsB,eAD5B,EAC6ClB,MAD7C,EAECD,SAFD,CAEW,UAAOoB,GAAP;AAAA,qBAAe;AAAA;AAAA;AAAA;AAAA;AAAA;AACxB,4BAAIA,GAAG,CAACC,OAAR,EAAiB;AACf,+BAAKvB,KAAL,GAAasB,GAAG,CAACE,IAAJ,CAASxB,KAAtB;;AACA,8BAAG,KAAKA,KAAL,CAAWyB,MAAd,EAAqB;AACnB,iCAASC,CAAT,GAAa,CAAb,EAAgBA,CAAC,GAAG,KAAK1B,KAAL,CAAWyB,MAA/B,EAAuCC,CAAC,EAAxC,EAA4C;AAC5C,mCAAK1B,KAAL,CAAW,CAAX,EAAc2B,KAAd,GAAsB,oCAAtB;AACA,mCAAK3B,KAAL,CAAW,CAAX,EAAc4B,IAAd,GAAqB,aAArB;AACA,mCAAK5B,KAAL,CAAW,CAAX,EAAc2B,KAAd,GAAsB,mCAAtB;AACA,mCAAK3B,KAAL,CAAW,CAAX,EAAc4B,IAAd,GAAqB,gBAArB;AAGC;AACF;AACF,yBAZD,MAYO;AACL,+BAAKC,YAAL,CAAkB;AAAEjB,kCAAM,EAAE,OAAV;AAAmBC,mCAAO,EAAES,GAAG,CAACT,OAAhC;AAAyCC,mCAAO,EAAE,CAAC,OAAD;AAAlD,2BAAlB;AACD;;AAfuB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,iBAAf;AAAA,aAFX,EAkBG,UAACgB,GAAD,EAAS;AACV,oBAAI,CAACD,YAAL,CAAkB;AAAEjB,sBAAM,EAAE,OAAV;AAAmBC,uBAAO,EAAE,wDAA5B;AAAsFC,uBAAO,EAAE,CAAC,OAAD;AAA/F,eAAlB;AACD,aApBD;AAqBD;AA1DwB;AAAA;AAAA,iBA4DzB,oBAAWiB,MAAX,EAAiB;AACf,iBAAKC,MAAL,CAAYD,MAAZ;AACD;AA9DwB;AAAA;AAAA,iBAgEzB,gBAAOA,MAAP,EAAe;AAAA;;AACb,iBAAKjC,OAAL,CAAakB,OAAb,CAAqB,EAArB;;AACA,gBAAI,KAAKX,UAAT,EAAqB;AACnB,kBAAMF,MAAM,GAAG;AACbe,sBAAM,EAAG,mDAAIC,MADA;AAEbY,sBAAM,EAAGA,MAFI;AAGbE,yBAAS,EAAE,KAAK5B,UAAL,CAAgB4B,SAHd;AAIbC,wBAAQ,EAAE,KAAK7B,UAAL,CAAgB6B,QAJb;AAKbC,wBAAQ,EAAE,KAAK9B,UAAL,CAAgB8B,QALb;AAMbC,qBAAK,EAAG,KAAK/B,UAAL,CAAgB+B;AANX,eAAf;AAQA5B,qBAAO,CAACC,GAAR,CAAYN,MAAZ;;AACA,mBAAKR,WAAL,CAAiByB,WAAjB,CAA6B,KAAKrB,GAAL,GAAS,mDAAIiC,MAA1C,EAAiD7B,MAAjD,EAAyDD,SAAzD,CAAmE,UAACoB,GAAD,EAAO;AACxE,sBAAI,CAACxB,OAAL,CAAauC,OAAb;;AACA,oBAAGf,GAAG,CAACC,OAAP,EAAe;AACb,wBAAI,CAAC1B,MAAL,CAAYyC,YAAZ,CAAyBhB,GAAG,CAACT,OAA7B;;AACA,wBAAI,CAACpB,MAAL,CAAY8C,QAAZ,CAAqB,CAAC,OAAD,CAArB,EAFa,CAGb;;AACD,iBAJD,MAIO;AACL,wBAAI,CAACV,YAAL,CAAkB;AAACjB,0BAAM,EAAE,OAAT;AAAkBC,2BAAO,EAAES,GAAG,CAACT,OAA/B;AAAwCC,2BAAO,EAAE,CAAC,OAAD;AAAjD,mBAAlB;AACD;AACF,eATD,EASE,UAACgB,GAAD,EAAO;AACP,sBAAI,CAACD,YAAL,CAAkB;AAACjB,wBAAM,EAAE,OAAT;AAAkBC,yBAAO,EAAE,wDAA3B;AAAqFC,yBAAO,EAAE,CAAC,OAAD;AAA9F,iBAAlB;AACD,eAXD;AAYD;AACF;AAzFwB;AAAA;AAAA,iBA2FzB,kCAAsB;AACpB,gBAAM0B,IAAI,GAAG;AACXP,uBAAS,EAAE,KAAK5B,UAAL,CAAgB4B,SADhB;AAEXC,sBAAQ,EAAG,KAAK7B,UAAL,CAAgB6B,QAFhB;AAGXO,qBAAO,EAAG,KAAKpC,UAAL,CAAgBoC;AAHf,aAAb;AAKA,gBAAIC,gBAAgB,GAAqB;AACvCzC,yBAAW,EAAE;AACXG,uBAAO,EAAEE,IAAI,CAACqC,SAAL,CAAeH,IAAf;AADE;AAD0B,aAAzC;AAKA,iBAAK/C,MAAL,CAAY8C,QAAZ,CAAqB,CAAC,QAAD,CAArB,EAAiCG,gBAAjC;AACD;AAvGwB;;AAAA;AAAA,S;;;;gBAZgB;;gBAAlC;;gBAEA;;gBADA;;gBAGA;;gBADA;;;;AASIlD,oBAAc,6DAL1B,gEAAU;AACToD,gBAAQ,EAAE,iBADD;AAETC,gBAAQ,EAAR;AAAA;AAAA,mHAFS;;;;AAAA,OAAV,CAK0B,GAAdrD,cAAc,CAAd","file":"pages-auth-select-role-select-role-module-es5.js","sourcesContent":["export default \"<ion-header class=\\\"ion-no-border\\\">\\r\\n  <ion-toolbar class=\\\"color-header\\\">\\r\\n    <!-- <ion-buttons>\\r\\n      <ion-back-button color=\\\"unit-btn\\\" text=\\\"\\\" icon=\\\"chevron-back-outline\\\"></ion-back-button>\\r\\n    </ion-buttons> -->\\r\\n  </ion-toolbar>\\r\\n</ion-header>\\r\\n<div class=\\\"logo ion-text-center\\\">\\r\\n  <img src=\\\"../../../../assets/imgs/logo-bg.png\\\" />\\r\\n</div>\\r\\n<ion-content fullscreen>\\r\\n  <div class=\\\"content\\\">\\r\\n    <div *ngFor=\\\"let item of roles\\\">\\r\\n    <div class=\\\"img-card\\\" (click)=\\\"selectRole(item._id)\\\">\\r\\n      <img src=\\\"{{item.image}}\\\" />\\r\\n    </div>\\r\\n  </div>\\r\\n  </div>\\r\\n</ion-content>\\r\\n\";","import { NgModule } from '@angular/core';\r\nimport { Routes, RouterModule } from '@angular/router';\r\n\r\nimport { SelectRolePage } from './select-role.page';\r\n\r\nconst routes: Routes = [\r\n  {\r\n    path: '',\r\n    component: SelectRolePage\r\n  }\r\n];\r\n\r\n@NgModule({\r\n  imports: [RouterModule.forChild(routes)],\r\n  exports: [RouterModule],\r\n})\r\nexport class SelectRolePageRoutingModule {}\r\n","import { NgModule } from '@angular/core';\r\nimport { CommonModule } from '@angular/common';\r\nimport { FormsModule } from '@angular/forms';\r\n\r\nimport { IonicModule } from '@ionic/angular';\r\n\r\nimport { SelectRolePageRoutingModule } from './select-role-routing.module';\r\n\r\nimport { SelectRolePage } from './select-role.page';\r\n\r\n@NgModule({\r\n  imports: [\r\n    CommonModule,\r\n    FormsModule,\r\n    IonicModule,\r\n    SelectRolePageRoutingModule\r\n  ],\r\n  declarations: [SelectRolePage]\r\n})\r\nexport class SelectRolePageModule {}\r\n","export default \":host {\\n  background-color: #ED1B25;\\n}\\n\\n.color-header {\\n  --background: #ED1B25;\\n}\\n\\nion-content {\\n  --background: transparent;\\n  transform: translate3d(0, 35px, 0);\\n}\\n\\nion-header {\\n  --ion-background-color: transparent;\\n}\\n\\n.content {\\n  background-color: \\\"secondary\\\";\\n  height: 100%;\\n  border-radius: 25px;\\n  padding-top: 60px;\\n}\\n\\n.logo {\\n  margin: auto;\\n  width: 20%;\\n}\\n\\n.img-card {\\n  max-width: 200px;\\n  margin: 0 auto 30px;\\n  text-align: center;\\n}\\n\\n.text-sucess {\\n  border-style: solid;\\n  border-color: green;\\n}\\n\\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbInNyYy9hcHAvcGFnZXMvYXV0aC9zZWxlY3Qtcm9sZS9zZWxlY3Qtcm9sZS5wYWdlLnNjc3MiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IkFBQUE7RUFDSSx5QkFBeUI7QUFDN0I7O0FBRUU7RUFDRSxxQkFBYTtBQUNqQjs7QUFDRTtFQUNFLHlCQUFhO0VBQ2Isa0NBQWtDO0FBRXRDOztBQUFFO0VBQ0UsbUNBQXVCO0FBRzNCOztBQUFFO0VBQ0UsNkJBQTZCO0VBQzdCLFlBQVk7RUFDWixtQkFBbUI7RUFDbkIsaUJBQWlCO0FBR3JCOztBQUFFO0VBQ0UsWUFBWTtFQUNaLFVBQVU7QUFHZDs7QUFBRTtFQUNFLGdCQUFnQjtFQUNoQixtQkFBbUI7RUFDbkIsa0JBQWtCO0FBR3RCOztBQUFFO0VBQ0UsbUJBQW1CO0VBQ25CLG1CQUFtQjtBQUd2QiIsImZpbGUiOiJzcmMvYXBwL3BhZ2VzL2F1dGgvc2VsZWN0LXJvbGUvc2VsZWN0LXJvbGUucGFnZS5zY3NzIiwic291cmNlc0NvbnRlbnQiOlsiOmhvc3Qge1xyXG4gICAgYmFja2dyb3VuZC1jb2xvcjogI0VEMUIyNTtcclxuICBcclxuICB9XHJcbiAgLmNvbG9yLWhlYWRlcntcclxuICAgIC0tYmFja2dyb3VuZDogI0VEMUIyNTtcclxuICB9XHJcbiAgaW9uLWNvbnRlbnQge1xyXG4gICAgLS1iYWNrZ3JvdW5kOiB0cmFuc3BhcmVudDtcclxuICAgIHRyYW5zZm9ybTogdHJhbnNsYXRlM2QoMCwgMzVweCwgMCk7XHJcbiAgfVxyXG4gIGlvbi1oZWFkZXIge1xyXG4gICAgLS1pb24tYmFja2dyb3VuZC1jb2xvcjogdHJhbnNwYXJlbnQ7XHJcbiAgfVxyXG4gIFxyXG4gIC5jb250ZW50IHtcclxuICAgIGJhY2tncm91bmQtY29sb3I6IFwic2Vjb25kYXJ5XCI7XHJcbiAgICBoZWlnaHQ6IDEwMCU7XHJcbiAgICBib3JkZXItcmFkaXVzOiAyNXB4O1xyXG4gICAgcGFkZGluZy10b3A6IDYwcHg7ICAgIFxyXG4gIH1cclxuICBcclxuICAubG9nbyB7XHJcbiAgICBtYXJnaW46IGF1dG87XHJcbiAgICB3aWR0aDogMjAlO1xyXG4gIH1cclxuICBcclxuICAuaW1nLWNhcmR7XHJcbiAgICBtYXgtd2lkdGg6IDIwMHB4O1xyXG4gICAgbWFyZ2luOiAwIGF1dG8gMzBweDtcclxuICAgIHRleHQtYWxpZ246IGNlbnRlcjtcclxuICB9XHJcbiAgXHJcbiAgLnRleHQtc3VjZXNze1xyXG4gICAgYm9yZGVyLXN0eWxlOiBzb2xpZDtcclxuICAgIGJvcmRlci1jb2xvcjogZ3JlZW47XHJcbiAgfSJdfQ== */\";","import { Component, OnInit } from '@angular/core';\r\nimport { ActivatedRoute, NavigationExtras, Router } from '@angular/router';\r\nimport { AlertController } from '@ionic/angular';\r\nimport { ApiService } from 'src/app/services/api-service.service';\r\nimport { LoaderService } from 'src/app/services/loader.service';\r\nimport { ToastService } from 'src/app/services/toast.service';\r\nimport { config,URL,KEY } from '../../config/config';\r\n\r\n@Component({\r\n  selector: 'app-select-role',\r\n  templateUrl: './select-role.page.html',\r\n  styleUrls: ['./select-role.page.scss'],\r\n})\r\nexport class SelectRolePage implements OnInit {\r\n  signInData: any;\r\n  private url: any = config.url;\r\n  roles: any = [];\r\n  constructor(\r\n    private router: Router,\r\n    private route: ActivatedRoute,\r\n    private _apiService: ApiService,\r\n    private alertCtrl : AlertController,\r\n    private _toast : ToastService,\r\n    private _loader : LoaderService\r\n  ) {\r\n    this.route.queryParams.subscribe(params => {\r\n      if (params && params.special) {\r\n        this.signInData = JSON.parse(params.special);\r\n        console.log(this.signInData);\r\n      }\r\n    });\r\n   }\r\n\r\n\r\n   async presentAlert(options) {\r\n    const alert = await this.alertCtrl.create({\r\n      header: options.header ? options.header : 'Alert',\r\n      message: options.message ? options.message : '',\r\n      buttons: options.buttons\r\n    });\r\n    await alert.present();\r\n  }\r\n\r\n  ngOnInit() {\r\n    this.getRoles();\r\n  }\r\n  getRoles() {\r\n    const params = {\r\n      apiKey : KEY.apikey\r\n    }\r\n    this._apiService\r\n    .postRequest(this.url + URL.getOnboardRoles, params)\r\n    .subscribe(async (res) => {\r\n      if (res.success) {\r\n        this.roles = res.data.roles;\r\n        if(this.roles.length){\r\n          for (let i = 0; i < this.roles.length; i++) {\r\n          this.roles[1].image = '../../../../assets/imgs/tanent.png';\r\n          this.roles[1].text = \"Rent a Unit\";\r\n          this.roles[0].image = '../../../../assets/imgs/owner.png';\r\n          this.roles[0].text = \"Host your Unit\";\r\n\r\n\r\n          }\r\n        }\r\n      } else {\r\n        this.presentAlert({ header: \"Error\", message: res.message, buttons: [\"Close\"] });\r\n      }\r\n    }, (err) => {\r\n      this.presentAlert({ header: \"Error\", message: \"Unable to process your request. Please try again later\", buttons: [\"Close\"] });\r\n    });\r\n  }\r\n\r\n  selectRole(roleId){\r\n    this.signUp(roleId);\r\n  }\r\n\r\n  signUp(roleId) {\r\n    this._loader.present('');\r\n    if (this.signInData) {\r\n      const params = {\r\n        apiKey : KEY.apikey,\r\n        roleId : roleId,\r\n        firstName: this.signInData.firstName,\r\n        lastName: this.signInData.lastName,\r\n        password: this.signInData.password,\r\n        email : this.signInData.email\r\n      };\r\n      console.log(params);\r\n      this._apiService.postRequest(this.url+URL.signUp,params).subscribe((res)=>{\r\n        this._loader.dismiss();\r\n        if(res.success){\r\n          this._toast.presentToast(res.message);\r\n          this.router.navigate(['login']);\r\n          // this.openAdditionalDataform();\r\n        } else {\r\n          this.presentAlert({header: \"Error\", message: res.message, buttons: [\"Close\"]});\r\n        }\r\n      },(err)=>{\r\n        this.presentAlert({header: \"Error\", message: \"Unable to process your request. Please try again later\", buttons: [\"Close\"]});\r\n      });\r\n    }\r\n  }\r\n\r\n  openAdditionalDataform(){\r\n    const user = {\r\n      firstName: this.signInData.firstName,\r\n      lastName:  this.signInData.lastName,\r\n      phoneno:  this.signInData.phoneno\r\n    };\r\n    let navigationExtras: NavigationExtras = {\r\n      queryParams: {\r\n        special: JSON.stringify(user)\r\n      }\r\n    };\r\n    this.router.navigate(['checkr'], navigationExtras);\r\n  }\r\n}\r\n"]}