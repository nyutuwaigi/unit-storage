{"version":3,"sources":["webpack:///src/app/pages/owner/Add-space/space-features/space-features.page.html","webpack:///src/app/pages/owner/Add-space/space-features/space-features-routing.module.ts","webpack:///src/app/pages/owner/Add-space/space-features/space-features.module.ts","webpack:///src/app/pages/owner/Add-space/space-features/space-features.page.scss","webpack:///src/app/pages/owner/Add-space/space-features/space-features.page.ts"],"names":["routes","path","component","SpaceFeaturesPageRoutingModule","imports","forChild","exports","SpaceFeaturesPageModule","declarations","providers","Camera","SpaceFeaturesPage","router","_api","route","toast","loader","_gs","alrtCtrl","actionSheetController","storage","zone","features","selectedAmenities","url","videoUrl","images","name","imageResponse","videoUrls","queryParams","subscribe","params","console","log","spaceDetails","JSON","parse","_id","spaceId","priviousPage","setTimeout","addSpaceInfo","getUserData","get","then","session","org","token","orgId","placeMeta","amenities","map","x","y","create","header","message","buttons","text","role","cssClass","handler","blah","back","alert","present","navigate","length","addSpace","index","push","type","address","loc","description","size","spaceType","storeItems","accessStatus","timeAccessStatus","pricing","discountFirstMonth","discountPercentage","videos","additionalInfo","spaceTypeName","addPlaceApi","place","updateSpace","addNewPlace","navigationExtras","stringify","postRequest","result","success","presentToast","sendRefershScreen","dismiss","error","ev","detail","checked","value","newArray","filter","apiKey","apikey","data","list","image","options","quality","allowEditing","resultType","Base64","height","width","getPhoto","imageData","base64String","base64","auth","imageUpload","uploadBase64image","response","run","pop","selector","template"],"mappings":"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","file":"pages-owner-Add-space-space-features-space-features-module-es5.js","sourcesContent":["export default \"<ion-header class=\\\"ion-no-border\\\">\\r\\n  <ion-toolbar>\\r\\n    <ion-buttons slot=\\\"end\\\" (click)=\\\"saveListing()\\\">\\r\\n      <ion-button color=\\\"unit-btn\\\" class=\\\"save\\\">\\r\\n        Save and Exit\\r\\n      </ion-button>\\r\\n    </ion-buttons>\\r\\n  </ion-toolbar>\\r\\n</ion-header>\\r\\n<ion-content>\\r\\n  <h4>Features</h4>\\r\\n  <ion-list>\\r\\n    <ion-item lines=\\\"none\\\" *ngFor=\\\"let am of features; let i=index\\\">\\r\\n      <ion-label>{{am.name}}</ion-label>\\r\\n      <ion-checkbox slot=\\\"start\\\" [value]=\\\"am._id\\\" (ionChange)=\\\"onCheckChange($event)\\\"></ion-checkbox>\\r\\n    </ion-item>\\r\\n  </ion-list>\\r\\n  <h4>Enter Video Link</h4>\\r\\n  <ion-item lines=\\\"none\\\">\\r\\n    <ion-input placeholder=\\\"https://\\\" [(ngModel)]=\\\"videoUrl\\\"></ion-input>\\r\\n  </ion-item>\\r\\n  <h4>Add Images</h4>\\r\\n  <ion-grid class=\\\"image_view\\\">\\r\\n    <ion-row *ngFor=\\\"let image of images; let i = index\\\">\\r\\n      <ion-col size=\\\"4\\\">\\r\\n        <h5>{{image.name}}</h5>\\r\\n      </ion-col>\\r\\n      <ion-col size=\\\"8\\\">\\r\\n        <div *ngIf=\\\"!image.url\\\">\\r\\n          <ion-button expand=\\\"block\\\" color=\\\"unit-btn\\\" shape=\\\"round\\\" fill=\\\"outline\\\" (click)=\\\"uploadImage(image,i)\\\"> Choose\\r\\n          </ion-button>\\r\\n        </div>\\r\\n        <div *ngIf=\\\"image.url\\\">\\r\\n          <img src=\\\"{{image.url}}\\\" alt=\\\"\\\">\\r\\n          <ion-icon name=\\\"close-circle\\\" color=\\\"unit-btn\\\" (click)=\\\"deleteImage(image,i)\\\"></ion-icon>\\r\\n        </div>\\r\\n      </ion-col>\\r\\n    </ion-row>\\r\\n    <ion-row>\\r\\n      <ion-col size=\\\"4\\\"></ion-col>\\r\\n      <ion-col size=\\\"8\\\">\\r\\n        <h3 class=\\\"addmore\\\" (click)=\\\"addMoreImages()\\\"> + Add more images </h3>\\r\\n      </ion-col>\\r\\n    </ion-row>\\r\\n  </ion-grid>\\r\\n</ion-content>\\r\\n<ion-footer>\\r\\n  <ion-toolbar>\\r\\n    <ion-grid>\\r\\n      <ion-row>\\r\\n        <ion-col>\\r\\n          <ion-button color=\\\"unit-btn\\\" fill=\\\"clear\\\" (click)=\\\"backPage()\\\">\\r\\n            <ion-icon class=\\\"back_btn\\\" slot=\\\"start\\\" name=\\\"chevron-back-outline\\\"></ion-icon>\\r\\n            Back\\r\\n          </ion-button>\\r\\n        </ion-col>\\r\\n        <ion-col>\\r\\n        </ion-col>\\r\\n        <ion-col style=\\\"margin-left: 35%;\\\">\\r\\n          <ion-button  class=\\\"next-btn\\\" color=\\\"unit-btn\\\" fill=\\\"clear\\\" [disabled]=\\\"selectedAmenities.length == 0\\\" fill=\\\"clear\\\"\\r\\n            (click)=\\\"next(4)\\\">\\r\\n            Next\\r\\n            <ion-icon slot=\\\"end\\\" name=\\\"chevron-forward-outline\\\"></ion-icon>\\r\\n          </ion-button>\\r\\n        </ion-col>\\r\\n      </ion-row>\\r\\n    </ion-grid>\\r\\n  </ion-toolbar>\\r\\n</ion-footer>\";","import { NgModule } from '@angular/core';\r\nimport { Routes, RouterModule } from '@angular/router';\r\n\r\nimport { SpaceFeaturesPage } from './space-features.page';\r\n\r\nconst routes: Routes = [\r\n  {\r\n    path: '',\r\n    component: SpaceFeaturesPage\r\n  }\r\n];\r\n\r\n@NgModule({\r\n  imports: [RouterModule.forChild(routes)],\r\n  exports: [RouterModule],\r\n})\r\nexport class SpaceFeaturesPageRoutingModule {}\r\n","import { NgModule } from '@angular/core';\r\nimport { CommonModule } from '@angular/common';\r\nimport { FormsModule } from '@angular/forms';\r\n\r\nimport { IonicModule } from '@ionic/angular';\r\n\r\nimport { SpaceFeaturesPageRoutingModule } from './space-features-routing.module';\r\n\r\nimport { SpaceFeaturesPage } from './space-features.page';\r\n\r\n\r\n@NgModule({\r\n  imports: [\r\n    CommonModule,\r\n    FormsModule,\r\n    IonicModule,\r\n    SpaceFeaturesPageRoutingModule\r\n  ],\r\n  declarations: [SpaceFeaturesPage],\r\n  providers: []\r\n})\r\nexport class SpaceFeaturesPageModule {}\r\n","export default \"h4 {\\n  font-size: 16px !important;\\n  margin-left: 24px;\\n  color: #3C3939;\\n  font-family: 'medium';\\n}\\n\\nion-label {\\n  color: #656565 !important;\\n  font-size: 17px !important;\\n  margin-left: 8px;\\n}\\n\\n.list-ios {\\n  margin-bottom: 10px !important;\\n}\\n\\n.save {\\n  font-family: medium;\\n  font-size: 16px;\\n}\\n\\nion-list h4 {\\n  font-size: 20px;\\n  margin-bottom: 10px;\\n  color: #3c3939;\\n  font-family: 'medium';\\n  opacity: 1;\\n  margin-left: 20px;\\n}\\n\\nion-button {\\n  text-transform: capitalize;\\n  --border-color: #d7d8da80;\\n}\\n\\n.input {\\n  border-bottom: 1px solid #d7d8da80;\\n}\\n\\nion-item ion-input {\\n  border: 1px solid #CACACA !important;\\n  border-radius: 30px;\\n  --padding-start: 15px;\\n  --padding-end: 15px;\\n}\\n\\nion-item ion-select {\\n  --padding-end: 15px;\\n}\\n\\n.image_view ion-row ion-col img {\\n  max-width: 90%;\\n  border-radius: 25px;\\n}\\n\\n.image_view ion-row ion-col ion-icon {\\n  position: absolute;\\n  right: 22px;\\n  font-size: 25px;\\n  top: 0px;\\n}\\n\\n.addmore {\\n  margin-top: 0px;\\n  margin-left: 55px;\\n  font-size: 13px;\\n  color: #ff0000;\\n}\\n\\nh5 {\\n  font-size: 16px;\\n  margin-bottom: 10px;\\n  color: #3c3939;\\n  font-family: 'medium';\\n  opacity: 1;\\n  margin-left: 11px;\\n}\\n\\nion-footer {\\n  height: 9% !important;\\n}\\n\\nion-footer ion-button {\\n  margin-top: -3px !important;\\n}\\n\\nion-footer ion-button .next_btn {\\n  margin-left: 0 !important;\\n}\\n\\nion-footer ion-button .back_btn {\\n  margin-right: 0 !important;\\n}\\n\\nion-checkbox {\\n  margin-right: 5px;\\n  --background-checked: #FF0000;\\n  --border-color-checked:  #FF0000;\\n  width: 20px !important;\\n  height: 20px !important;\\n}\\n\\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbInNyYy9hcHAvcGFnZXMvb3duZXIvQWRkLXNwYWNlL3NwYWNlLWZlYXR1cmVzL3NwYWNlLWZlYXR1cmVzLnBhZ2Uuc2NzcyJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiQUFBQTtFQUNJLDBCQUEwQjtFQUMxQixpQkFBaUI7RUFDakIsY0FBYztFQUNkLHFCQUFxQjtBQUN6Qjs7QUFFRTtFQUNFLHlCQUF5QjtFQUN6QiwwQkFBMEI7RUFDMUIsZ0JBQWdCO0FBQ3BCOztBQUNFO0VBQ0UsOEJBQThCO0FBRWxDOztBQUFFO0VBQ0UsbUJBQW1CO0VBQ2pCLGVBQWU7QUFHckI7O0FBREU7RUFFSSxlQUFlO0VBQ2YsbUJBQW1CO0VBQ25CLGNBQWM7RUFDZCxxQkFBcUI7RUFDckIsVUFBVTtFQUNWLGlCQUFpQjtBQUd2Qjs7QUFFRTtFQUNFLDBCQUEwQjtFQUMxQix5QkFBZTtBQUNuQjs7QUFFRTtFQUNFLGtDQUFrQztBQUN0Qzs7QUFDRTtFQUVJLG9DQUFvQztFQUNwQyxtQkFBbUI7RUFDbkIscUJBQWdCO0VBQ2hCLG1CQUFjO0FBQ3BCOztBQU5FO0VBUUksbUJBQWM7QUFFcEI7O0FBRUU7RUFJUSxjQUFjO0VBQ2QsbUJBQW1CO0FBRjdCOztBQUhFO0VBUVEsa0JBQWtCO0VBQ2xCLFdBQVc7RUFDWCxlQUFlO0VBQ2YsUUFBUTtBQURsQjs7QUFPRTtFQUNFLGVBQWU7RUFDZixpQkFBaUI7RUFDakIsZUFBZTtFQUNmLGNBQWM7QUFKbEI7O0FBTUU7RUFDRSxlQUFlO0VBQ2YsbUJBQW1CO0VBQ25CLGNBQWM7RUFDZCxxQkFBcUI7RUFDckIsVUFBVTtFQUNWLGlCQUFpQjtBQUhyQjs7QUFLRTtFQUNFLHFCQUFxQjtBQUZ6Qjs7QUFDRTtFQUdJLDJCQUEyQjtBQUFqQzs7QUFIRTtFQUtNLHlCQUF5QjtBQUVqQzs7QUFQRTtFQVFNLDBCQUEwQjtBQUdsQzs7QUFDRTtFQUNFLGlCQUFpQjtFQUNqQiw2QkFBcUI7RUFDckIsZ0NBQXVCO0VBQ3ZCLHNCQUFzQjtFQUN0Qix1QkFBdUI7QUFFM0IiLCJmaWxlIjoic3JjL2FwcC9wYWdlcy9vd25lci9BZGQtc3BhY2Uvc3BhY2UtZmVhdHVyZXMvc3BhY2UtZmVhdHVyZXMucGFnZS5zY3NzIiwic291cmNlc0NvbnRlbnQiOlsiaDQge1xyXG4gICAgZm9udC1zaXplOiAxNnB4ICFpbXBvcnRhbnQ7XHJcbiAgICBtYXJnaW4tbGVmdDogMjRweDtcclxuICAgIGNvbG9yOiAjM0MzOTM5O1xyXG4gICAgZm9udC1mYW1pbHk6ICdtZWRpdW0nO1xyXG4gIH1cclxuICBcclxuICBpb24tbGFiZWwge1xyXG4gICAgY29sb3I6ICM2NTY1NjUgIWltcG9ydGFudDtcclxuICAgIGZvbnQtc2l6ZTogMTdweCAhaW1wb3J0YW50O1xyXG4gICAgbWFyZ2luLWxlZnQ6IDhweDtcclxuICB9XHJcbiAgLmxpc3QtaW9zIHtcclxuICAgIG1hcmdpbi1ib3R0b206IDEwcHggIWltcG9ydGFudDtcclxuICB9XHJcbiAgLnNhdmV7XHJcbiAgICBmb250LWZhbWlseTogbWVkaXVtO1xyXG4gICAgICBmb250LXNpemU6IDE2cHg7XHJcbiAgfVxyXG4gIGlvbi1saXN0IHtcclxuICAgIGg0IHtcclxuICAgICAgZm9udC1zaXplOiAyMHB4O1xyXG4gICAgICBtYXJnaW4tYm90dG9tOiAxMHB4O1xyXG4gICAgICBjb2xvcjogIzNjMzkzOTtcclxuICAgICAgZm9udC1mYW1pbHk6ICdtZWRpdW0nO1xyXG4gICAgICBvcGFjaXR5OiAxO1xyXG4gICAgICBtYXJnaW4tbGVmdDogMjBweDtcclxuICAgIH1cclxuICB9XHJcbiAgXHJcbiAgXHJcbiAgaW9uLWJ1dHRvbiB7XHJcbiAgICB0ZXh0LXRyYW5zZm9ybTogY2FwaXRhbGl6ZTtcclxuICAgIC0tYm9yZGVyLWNvbG9yOiAjZDdkOGRhODA7XHJcbiAgfVxyXG4gIFxyXG4gIC5pbnB1dCB7XHJcbiAgICBib3JkZXItYm90dG9tOiAxcHggc29saWQgI2Q3ZDhkYTgwO1xyXG4gIH1cclxuICBpb24taXRlbSB7XHJcbiAgICBpb24taW5wdXQge1xyXG4gICAgICBib3JkZXI6IDFweCBzb2xpZCAjQ0FDQUNBICFpbXBvcnRhbnQ7XHJcbiAgICAgIGJvcmRlci1yYWRpdXM6IDMwcHg7XHJcbiAgICAgIC0tcGFkZGluZy1zdGFydDogMTVweDtcclxuICAgICAgLS1wYWRkaW5nLWVuZDogMTVweDtcclxuICAgIH1cclxuICAgIGlvbi1zZWxlY3R7XHJcbiAgICAgIC0tcGFkZGluZy1lbmQ6IDE1cHg7XHJcbiAgICB9XHJcbiAgfVxyXG4gIFxyXG4gIC5pbWFnZV92aWV3IHtcclxuICAgIGlvbi1yb3cge1xyXG4gICAgICBpb24tY29sIHtcclxuICAgICAgICBpbWcge1xyXG4gICAgICAgICAgbWF4LXdpZHRoOiA5MCU7XHJcbiAgICAgICAgICBib3JkZXItcmFkaXVzOiAyNXB4O1xyXG4gICAgICAgIH1cclxuICAgICAgICBpb24taWNvbiB7XHJcbiAgICAgICAgICBwb3NpdGlvbjogYWJzb2x1dGU7XHJcbiAgICAgICAgICByaWdodDogMjJweDtcclxuICAgICAgICAgIGZvbnQtc2l6ZTogMjVweDtcclxuICAgICAgICAgIHRvcDogMHB4O1xyXG4gICAgICAgIH1cclxuICAgICAgfVxyXG4gICAgfVxyXG4gIH1cclxuICBcclxuICAuYWRkbW9yZSB7XHJcbiAgICBtYXJnaW4tdG9wOiAwcHg7XHJcbiAgICBtYXJnaW4tbGVmdDogNTVweDtcclxuICAgIGZvbnQtc2l6ZTogMTNweDtcclxuICAgIGNvbG9yOiAjZmYwMDAwO1xyXG4gIH1cclxuICBoNXtcclxuICAgIGZvbnQtc2l6ZTogMTZweDtcclxuICAgIG1hcmdpbi1ib3R0b206IDEwcHg7XHJcbiAgICBjb2xvcjogIzNjMzkzOTtcclxuICAgIGZvbnQtZmFtaWx5OiAnbWVkaXVtJztcclxuICAgIG9wYWNpdHk6IDE7XHJcbiAgICBtYXJnaW4tbGVmdDogMTFweDtcclxuICB9XHJcbiAgaW9uLWZvb3RlciB7XHJcbiAgICBoZWlnaHQ6IDklICFpbXBvcnRhbnQ7XHJcbiAgICBpb24tYnV0dG9uIHtcclxuICAgICAgbWFyZ2luLXRvcDogLTNweCAhaW1wb3J0YW50O1xyXG4gICAgICAubmV4dF9idG4ge1xyXG4gICAgICAgIG1hcmdpbi1sZWZ0OiAwICFpbXBvcnRhbnQ7XHJcbiAgICAgIH1cclxuICAgICAgLmJhY2tfYnRuIHtcclxuICAgICAgICBtYXJnaW4tcmlnaHQ6IDAgIWltcG9ydGFudDtcclxuICAgICAgfVxyXG4gICAgfVxyXG4gIH1cclxuICBpb24tY2hlY2tib3h7XHJcbiAgICBtYXJnaW4tcmlnaHQ6IDVweDtcclxuICAgIC0tYmFja2dyb3VuZC1jaGVja2VkOiAjRkYwMDAwO1xyXG4gICAgLS1ib3JkZXItY29sb3ItY2hlY2tlZDogICNGRjAwMDA7XHJcbiAgICB3aWR0aDogMjBweCAhaW1wb3J0YW50O1xyXG4gICAgaGVpZ2h0OiAyMHB4ICFpbXBvcnRhbnQ7XHJcbiAgfSJdfQ== */\";","import { Component, NgZone, OnInit } from '@angular/core';\r\nimport { ActivatedRoute, NavigationExtras, Router } from '@angular/router';\r\nimport { ActionSheetController, AlertController } from '@ionic/angular';\r\nimport { config, KEY, UNITURL, URL } from 'src/app/pages/config/config';\r\nimport { ApiService } from 'src/app/services/api-service.service';\r\nimport { GlobalService } from 'src/app/services/global.service';\r\nimport { LoaderService } from 'src/app/services/loader.service';\r\nimport { ToastService } from 'src/app/services/toast.service';\r\n\r\nimport { Storage } from '@ionic/storage';\r\nimport { Plugins, CameraResultType, CameraOptions } from '@capacitor/core';\r\n\r\nconst { Camera } = Plugins;\r\n\r\n@Component({\r\n  selector: 'app-space-features',\r\n  templateUrl: './space-features.page.html',\r\n  styleUrls: ['./space-features.page.scss'],\r\n})\r\nexport class SpaceFeaturesPage implements OnInit {\r\n\r\n  features: any = [];\r\n  selectedAmenities: any = [];\r\n  url: any = config.url;\r\n  priviousPage: any;\r\n  spaceDetails: any;\r\n  spaceId: any;\r\n  videoUrl: any = '';\r\n  images = [\r\n    { name: 'Main Image', url: '' },\r\n    { name: 'Image 2', url: '' }\r\n  ];\r\n  imageResponse: any =[]; \r\n  imageIndex: any ;\r\n  videoUrls : any = [];\r\n  token: any;\r\n  orgId: any;\r\n  \r\n  constructor(\r\n    private router: Router,\r\n    private _api: ApiService,\r\n    private route: ActivatedRoute,\r\n    public toast: ToastService,\r\n    private loader: LoaderService,\r\n    private _gs: GlobalService,\r\n    public alrtCtrl: AlertController,\r\n    public actionSheetController: ActionSheetController,\r\n    private storage : Storage,\r\n    private zone : NgZone\r\n  ) { \r\n\r\n    this.route.queryParams.subscribe(params => {\r\n      if (params) {\r\n        console.log(params);\r\n        if (params.spaceDetails) {\r\n          this.spaceDetails = JSON.parse(params.spaceDetails);\r\n          if(this.spaceDetails._id){\r\n            this.spaceId = this.spaceDetails._id;\r\n          }\r\n          this.priviousPage = params.priviousPage;\r\n          setTimeout(() => {\r\n            this.addSpaceInfo(this.spaceDetails);\r\n          }, 500);\r\n        }\r\n      }\r\n    });\r\n\r\n  }\r\n\r\n  ngOnInit() {\r\n    this.getUserData();\r\n  }\r\n\r\n\r\n  getUserData() {\r\n    this.storage.get(\"session\").then((session) => {\r\n      if (session) {\r\n        this.storage.get(\"org\").then((org) =>{\r\n          if(org){\r\n            this.token = session;\r\n            this.orgId = org;\r\n            this.placeMeta();\r\n          }\r\n        });\r\n      }\r\n    });\r\n  }\r\n\r\n\r\n  addSpaceInfo(spaceDetails: any) {\r\n    console.log(spaceDetails);\r\n    console.log(spaceDetails.amenities);\r\n    if (spaceDetails._id) {\r\n      this.spaceId = spaceDetails._id;\r\n    }\r\n    if (spaceDetails.amenities) {\r\n     \r\n      console.log(this.features);\r\n      this.features.map(x =>{\r\n        spaceDetails.amenities.map(y =>{\r\n          if(x._id === y._id){\r\n            console.log('I n 68');\r\n            x['selected']  = true;\r\n          }\r\n        });\r\n      });\r\n      console.log(this.features);\r\n      // this.selectedAmenities = spaceDetails.amenities;\r\n    }\r\n  }\r\n\r\n  async backAlert() {\r\n    const alert = await this.alrtCtrl.create({\r\n      header: 'Lose your data',\r\n      message: 'You may loose your data. Are you sure that you want to start all over again?',\r\n      buttons: [\r\n        {\r\n          text: 'Cancel',\r\n          role: 'cancel',\r\n          cssClass: 'secondary',\r\n          handler: (blah) => { }\r\n        }, {\r\n          text: 'Back',\r\n          handler: () => {\r\n            this.back();\r\n          }\r\n        }\r\n      ]\r\n    });\r\n    await alert.present();\r\n  }\r\n\r\n  back() {\r\n    if (this.priviousPage) {\r\n      this.router.navigate(['tabs/my-spaces']);\r\n    } else {\r\n      this.router.navigate(['add-address']);\r\n    }\r\n  }\r\n\r\n\r\n  saveListing() {\r\n    if (this.selectedAmenities.length) {\r\n       this.addSpace(4);\r\n    }else{\r\n      this.addSpace(3);\r\n    }\r\n  }\r\n\r\n\r\n  addSpace(index) {\r\n    if(this.videoUrl){\r\n      this.videoUrls.push({ type: 'Video', url: this.videoUrl });\r\n    }else{\r\n      this.videoUrl = [];\r\n    }\r\n    if (this.token) {\r\n      const params = {\r\n        token: this.token,\r\n        orgId: this.orgId,\r\n        name: this.spaceDetails.name,\r\n        address: this.spaceDetails.address,\r\n        loc: this.spaceDetails.loc,\r\n        description: this.spaceDetails.description,\r\n        size: this.spaceDetails.size,\r\n        spaceType: this.spaceDetails.spaceType,\r\n        storeItems: this.spaceDetails.storeItems,\r\n        accessStatus: this.spaceDetails.accessStatus,\r\n        timeAccessStatus: this.spaceDetails.timeAccessStatus,\r\n        index: index,\r\n        pricing: this.spaceDetails.pricing,\r\n        discountFirstMonth: this.spaceDetails.discountFirstMonth,\r\n        discountPercentage: this.spaceDetails.discountPercentage,\r\n        amenities: this.selectedAmenities,\r\n        images: this.imageResponse,\r\n        videos: this.videoUrls,\r\n        additionalInfo : this.spaceDetails.additionalInfo,\r\n        spaceTypeName : this.spaceDetails.spaceTypeName\r\n      }\r\n      this.addPlaceApi(params);\r\n    }\r\n  }\r\n\r\n  addPlaceApi(place) {\r\n    console.log(this.spaceId);\r\n    if (this.spaceId) {\r\n      place['placeId'] = this.spaceId;\r\n      this.updateSpace(place);\r\n    } else {\r\n      this.addNewPlace(place);\r\n    }\r\n\r\n  }\r\n\r\n  backPage() {\r\n    let navigationExtras: NavigationExtras = {\r\n      queryParams: {\r\n        spaceDetails: JSON.stringify(this.spaceDetails),\r\n        priviousPage: 'tabs/my-spaces'\r\n      }\r\n    };\r\n    this.router.navigate(['space-description'], navigationExtras);\r\n  }\r\n  next(index) {\r\n    if (this.token) {\r\n      const params = {\r\n        token: this.token,\r\n        orgId: this.orgId,\r\n        name: this.spaceDetails.name,\r\n        address: this.spaceDetails.address,\r\n        loc: this.spaceDetails.loc,\r\n        description: this.spaceDetails.description,\r\n        size: this.spaceDetails.size,\r\n        spaceType: this.spaceDetails.spaceType,\r\n        storeItems: this.spaceDetails.storeItems,\r\n        accessStatus: this.spaceDetails.accessStatus,\r\n        timeAccessStatus: this.spaceDetails.timeAccessStatus,\r\n        index: index,\r\n        pricing: this.spaceDetails.pricing,\r\n        discountFirstMonth: this.spaceDetails.discountFirstMonth,\r\n        discountPercentage: this.spaceDetails.discountPercentage,\r\n        amenities: this.selectedAmenities,\r\n        images: this.imageResponse,\r\n        videos: this.videoUrls,\r\n        additionalInfo : this.spaceDetails.additionalInfo,\r\n        spaceTypeName : this.spaceDetails.spaceTypeName\r\n      }\r\n      console.log(params);\r\n      console.log('In space-features',this.spaceId);\r\n      if(this.spaceId){\r\n        params['_id'] = this.spaceId;\r\n      }\r\n\r\n      let navigationExtras: NavigationExtras = {\r\n        queryParams: {\r\n          spaceDetails: JSON.stringify(params),\r\n          priviousPage: 'tab4'\r\n        }\r\n      };\r\n      this.router.navigate(['space-publish'], navigationExtras);\r\n    }\r\n  }\r\n\r\n\r\n  updateSpace(place: any) {\r\n    console.log(place);\r\n    // return;\r\n    this.loader.present('Updating Space. Please wait..');\r\n    this._api.postRequest(this.url + UNITURL.updateSpace,\r\n      place).subscribe(\r\n        async (result) => {\r\n          if (result.success) {\r\n            this.toast.presentToast(result.message);\r\n          }\r\n          this._gs.sendRefershScreen(\"refresh\");\r\n          this.loader.dismiss();\r\n          this.router.navigate(['tabs/tab4']);\r\n        }\r\n      ), (error) => {\r\n        this.loader.dismiss();\r\n        this.toast.presentToast(error.description);\r\n      }\r\n\r\n  }\r\n  addNewPlace(place: any) {\r\n    this.loader.present('Adding Space. Please wait..');\r\n    this._api.postRequest(this.url + UNITURL.addSpace,\r\n      place).subscribe(\r\n        async (result) => {\r\n          if (result.success) {\r\n            this.toast.presentToast(result.message);\r\n          }\r\n          this._gs.sendRefershScreen(\"refresh\");\r\n          this.loader.dismiss();\r\n          this.router.navigate(['tabs/tab4']);\r\n        }\r\n      ), (error) => {\r\n        this.loader.dismiss();\r\n        this.toast.presentToast(error.description);\r\n      }\r\n  }\r\n\r\n\r\n\r\n  onCheckChange(ev) {\r\n    console.log(ev);\r\n    if (ev.detail.checked == true) {\r\n      this.selectedAmenities.push(ev.detail.value);\r\n    } else {\r\n      let newArray = this.selectedAmenities.filter(x => {\r\n        return x !== ev.detail.value;\r\n      });\r\n      this.selectedAmenities = newArray;\r\n    }\r\n    console.log(this.selectedAmenities);\r\n  }\r\n\r\n  placeMeta() {\r\n  \r\n      const params = {\r\n        apiKey : KEY.apikey\r\n      }\r\n      this._api.postRequest(this.url + UNITURL.placeMeta, params).subscribe(\r\n        async (result) => {\r\n          if (result.success) {\r\n            this.features = result.data.list.amenities;\r\n          }\r\n        }\r\n      )\r\n    }\r\n\r\n    async uploadImage(image,index){\r\n      const options: CameraOptions = {\r\n        quality: 100,\r\n        allowEditing: false,\r\n        resultType: CameraResultType.Base64,\r\n        height: 250,\r\n        width: 250\r\n      };\r\n      const imageData = await Camera.getPhoto(options);\r\n      if (imageData.base64String) {\r\n        const base64 = 'data:image/jpeg;base64,'+imageData.base64String;\r\n        this.loader.present();\r\n          let params = {\r\n            auth: {\r\n              type: 'token',\r\n              token: this.token,\r\n              orgId: this.orgId\r\n            },\r\n            base64: base64,\r\n            public: true\r\n          };\r\n          let url = this.url + URL.imageUpload;\r\n          this._api.uploadBase64image(url, params).then((response: any) => {\r\n            this.loader.dismiss();\r\n            if (response.success) {\r\n              if (response.data && response.data.url) {\r\n                console.log(response.data.url);\r\n                this.zone.run(() => {\r\n                  this.images[index].url = response.data.url;\r\n                  this.imageResponse.push(response.data.url);\r\n                });\r\n              }\r\n            }\r\n          });\r\n        }\r\n    }\r\n    \r\n\r\n  addMoreImages(){\r\n    this.images.push(\r\n     { name: `Image ${this.images.length + 1}`, url: ''}\r\n    );\r\n  }\r\n\r\n  deleteImage(image,index){\r\n    this.images[index].url = '';\r\n    this.imageResponse.pop(index);\r\n    console.log(this.imageResponse);\r\n  }\r\n\r\n}\r\n"]}