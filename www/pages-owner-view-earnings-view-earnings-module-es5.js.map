{"version":3,"sources":["webpack:///src/app/pages/owner/view-earnings/view-earnings.page.html","webpack:///src/app/pages/owner/view-earnings/view-earnings-routing.module.ts","webpack:///src/app/pages/owner/view-earnings/view-earnings.module.ts","webpack:///src/app/pages/owner/view-earnings/view-earnings.page.scss","webpack:///src/app/pages/owner/view-earnings/view-earnings.page.ts"],"names":["routes","path","component","ViewEarningsPageRoutingModule","imports","forChild","exports","ViewEarningsPageModule","declarations","ViewEarningsPage","_apiService","alert","storage","url","total","getUserData","get","then","session","org","token","orgId","viewEarnings","params","console","log","postRequest","placeWithTotalEarnings","subscribe","result","success","resp","data","list","i","length","totalEarings","Number","error","description","presentToast","selector","template"],"mappings":"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","file":"pages-owner-view-earnings-view-earnings-module-es5.js","sourcesContent":["export default \"<ion-header>\\r\\n  <ion-toolbar>\\r\\n    <ion-title>My Earnings</ion-title>\\r\\n    <ion-buttons slot=\\\"start\\\">\\r\\n      <ion-back-button color=\\\"unit-btn\\\" text=\\\"\\\" icon=\\\"chevron-back-outline\\\"></ion-back-button>\\r\\n    </ion-buttons>\\r\\n  </ion-toolbar>\\r\\n</ion-header>\\r\\n<ion-content>\\r\\n  <ion-list>\\r\\n    <ion-item *ngFor = \\\"let payment of resp\\\"> \\r\\n      <ion-grid>\\r\\n        <ion-row>\\r\\n          <ion-col size= \\\"10\\\" class=\\\"name\\\">\\r\\n            {{payment.name}}\\r\\n          </ion-col>\\r\\n          <ion-col size= \\\"2\\\" class=\\\"name\\\">\\r\\n            $ {{payment.totalEarings ? payment.totalEarings : 0}}\\r\\n          </ion-col>\\r\\n        </ion-row>\\r\\n      </ion-grid>\\r\\n    </ion-item>\\r\\n  </ion-list>\\r\\n</ion-content>\\r\\n<ion-footer>\\r\\n  <ion-toolbar>\\r\\n    <div class=\\\"ion-text-center\\\">\\r\\n      <ion-label class=\\\"total\\\"> Total : $ {{total}}</ion-label>\\r\\n    </div>\\r\\n  </ion-toolbar>\\r\\n</ion-footer>\\r\\n\";","import { NgModule } from '@angular/core';\r\nimport { Routes, RouterModule } from '@angular/router';\r\n\r\nimport { ViewEarningsPage } from './view-earnings.page';\r\n\r\nconst routes: Routes = [\r\n  {\r\n    path: '',\r\n    component: ViewEarningsPage\r\n  }\r\n];\r\n\r\n@NgModule({\r\n  imports: [RouterModule.forChild(routes)],\r\n  exports: [RouterModule],\r\n})\r\nexport class ViewEarningsPageRoutingModule {}\r\n","import { NgModule } from '@angular/core';\r\nimport { CommonModule } from '@angular/common';\r\nimport { FormsModule } from '@angular/forms';\r\n\r\nimport { IonicModule } from '@ionic/angular';\r\n\r\nimport { ViewEarningsPageRoutingModule } from './view-earnings-routing.module';\r\n\r\nimport { ViewEarningsPage } from './view-earnings.page';\r\n\r\n@NgModule({\r\n  imports: [\r\n    CommonModule,\r\n    FormsModule,\r\n    IonicModule,\r\n    ViewEarningsPageRoutingModule\r\n  ],\r\n  declarations: [ViewEarningsPage]\r\n})\r\nexport class ViewEarningsPageModule {}\r\n","export default \".name {\\n  font-size: 13px;\\n  font-weight: 400;\\n  color: tertiary;\\n  font-family: 'helveticaneuebold';\\n}\\n\\n.total {\\n  font-size: 18px;\\n  font-family: 'helveticaneuebold';\\n  color: green;\\n}\\n\\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbInNyYy9hcHAvcGFnZXMvb3duZXIvdmlldy1lYXJuaW5ncy92aWV3LWVhcm5pbmdzLnBhZ2Uuc2NzcyJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiQUFBQTtFQUNJLGVBQWU7RUFDZixnQkFBZ0I7RUFDaEIsZUFBZTtFQUNmLGdDQUFnQztBQUNwQzs7QUFDQztFQUNHLGVBQWU7RUFDZixnQ0FBZ0M7RUFDaEMsWUFBVztBQUVmIiwiZmlsZSI6InNyYy9hcHAvcGFnZXMvb3duZXIvdmlldy1lYXJuaW5ncy92aWV3LWVhcm5pbmdzLnBhZ2Uuc2NzcyIsInNvdXJjZXNDb250ZW50IjpbIi5uYW1le1xyXG4gICAgZm9udC1zaXplOiAxM3B4O1xyXG4gICAgZm9udC13ZWlnaHQ6IDQwMDtcclxuICAgIGNvbG9yOiB0ZXJ0aWFyeTtcclxuICAgIGZvbnQtZmFtaWx5OiAnaGVsdmV0aWNhbmV1ZWJvbGQnO1xyXG4gfVxyXG4gLnRvdGFse1xyXG4gICAgZm9udC1zaXplOiAxOHB4O1xyXG4gICAgZm9udC1mYW1pbHk6ICdoZWx2ZXRpY2FuZXVlYm9sZCc7XHJcbiAgICBjb2xvcjpncmVlbjtcclxuIH0iXX0= */\";","import { Component, OnInit } from '@angular/core';\r\nimport { ApiService } from 'src/app/services/api-service.service';\r\nimport { ToastService } from 'src/app/services/toast.service';\r\nimport { config, UNITURL } from '../../config/config';\r\nimport { Storage } from '@ionic/storage';\r\n\r\n@Component({\r\n  selector: 'app-view-earnings',\r\n  templateUrl: './view-earnings.page.html',\r\n  styleUrls: ['./view-earnings.page.scss'],\r\n})\r\nexport class ViewEarningsPage implements OnInit {\r\n\r\n  url: any = config.url;\r\n  resp: any;\r\n  total: any = 0;\r\n  token: any;\r\n  orgId: any;\r\n\r\n  constructor(\r\n    private _apiService: ApiService,\r\n    private alert: ToastService,\r\n    private storage : Storage\r\n    ) {}\r\n\r\n  ngOnInit() {\r\n    this.getUserData();\r\n  }\r\n\r\n  getUserData() {\r\n    this.storage.get(\"session\").then((session) => {\r\n      if (session) {\r\n        this.storage.get(\"org\").then((org) =>{\r\n          if(org){\r\n            this.token = session;\r\n            this.orgId = org;\r\n            this.viewEarnings();\r\n          }\r\n        });\r\n      }\r\n    });\r\n  }\r\n\r\n  ionViewWillEnter() {}\r\n\r\n  viewEarnings() {\r\n    if (this.token) {\r\n        const params = {\r\n          token: this.token,\r\n          orgId : this.orgId\r\n        }\r\n        console.log(params);\r\n        this._apiService.postRequest(this.url + UNITURL.placeWithTotalEarnings,\r\n          params).subscribe(\r\n            async (result) => {\r\n              if (result.success) {\r\n                this.resp = result.data.list;\r\n                for (var i = 0; i < this.resp.length; i++) {\r\n                  if (this.resp[i].totalEarings) {\r\n                    this.total += Number(this.resp[i].totalEarings);\r\n                  }\r\n                }\r\n              }\r\n            }\r\n          ), (error) => {\r\n            console.log(error.description);\r\n            this.alert.presentToast(error.description);\r\n          }\r\n    }\r\n  }\r\n}\r\n"]}