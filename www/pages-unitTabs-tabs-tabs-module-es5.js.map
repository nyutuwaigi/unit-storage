{"version":3,"sources":["webpack:///src/app/pages/unitTabs/tabs/tabs.page.html","webpack:///src/app/pages/unitTabs/tabs/tabs-routing.module.ts","webpack:///src/app/pages/unitTabs/tabs/tabs.module.ts","webpack:///src/app/pages/unitTabs/tabs/tabs.page.scss","webpack:///src/app/pages/unitTabs/tabs/tabs.page.ts"],"names":["routes","path","component","children","loadChildren","then","m","Tab1PageModule","Tab2PageModule","Tab3PageModule","ProfilePageModule","MySpacesPageModule","Tab4PageModule","AdminDashPageModule","SettingsPageModule","redirectTo","pathMatch","TabsPageRoutingModule","imports","forChild","exports","TabsPageModule","declarations","TabsPage","_gs","storage","permissions","canCreateSpace","canRetriveOwnBookings","canRetriveSpaceBookings","notificationcanRetrive","spaceCanRetriveAll","getUpdatedTabs","subscribe","status","getUserData","getfcmData","tabRef","select","getLogOut","logged","get","session","permissionlist","setPermissions","includes","selector","template"],"mappings":"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","file":"pages-unitTabs-tabs-tabs-module-es5.js","sourcesContent":["export default \"<ion-tabs #app_tabs>\\r\\n  <ion-tab-bar slot=\\\"bottom\\\">\\r\\n    <ion-tab-button tab=\\\"tab1\\\" *ngIf=\\\"!permissions.canCreateSpace && !permissions.spaceCanRetriveAll \\\">\\r\\n      <ion-icon name=\\\"search-outline\\\"></ion-icon>\\r\\n      <ion-label>Explore</ion-label>\\r\\n    </ion-tab-button>\\r\\n    <ion-tab-button tab=\\\"my-spaces\\\" *ngIf=\\\"permissions.canCreateSpace\\\">\\r\\n      <ion-icon name=\\\"home-outline\\\"></ion-icon>\\r\\n      <ion-label>My Spaces</ion-label>\\r\\n    </ion-tab-button>\\r\\n    <!-- case tenant -->\\r\\n    <ion-tab-button tab=\\\"tab2\\\" *ngIf=\\\"permissions.canRetriveOwnBookings\\\">\\r\\n      <ion-icon name='bookmark-outline'></ion-icon>\\r\\n      <ion-label>Bookings</ion-label>\\r\\n    </ion-tab-button>\\r\\n    <!-- case owner -->\\r\\n    <ion-tab-button tab=\\\"tab4\\\" *ngIf=\\\"permissions.canRetriveSpaceBookings\\\">\\r\\n      <ion-icon name='bookmark-outline'></ion-icon>\\r\\n      <ion-label>Bookings</ion-label>\\r\\n    </ion-tab-button>\\r\\n    <!-- case noti -->\\r\\n    <ion-tab-button tab=\\\"tab3\\\" *ngIf=\\\"permissions.notificationcanRetrive\\\">\\r\\n      <ion-icon name=\\\"chatbox-outline\\\"></ion-icon>\\r\\n      <ion-label>Inbox</ion-label>\\r\\n    </ion-tab-button>\\r\\n    <!--case Admin-->\\r\\n    <ion-tab-button tab=\\\"admin-dash\\\" *ngIf=\\\"permissions.spaceCanRetriveAll\\\">\\r\\n      <ion-icon name=\\\"home-outline\\\"></ion-icon>\\r\\n      <ion-label>Dashboard</ion-label>\\r\\n    </ion-tab-button>\\r\\n    <ion-tab-button tab=\\\"settings\\\" *ngIf=\\\"permissions.spaceCanRetriveAll\\\">\\r\\n      <ion-icon name=\\\"settings-outline\\\"></ion-icon>\\r\\n      <ion-label>Settings</ion-label>\\r\\n    </ion-tab-button>\\r\\n    <ion-tab-button tab=\\\"profile\\\" *ngIf=\\\"!permissions.spaceCanRetriveAll\\\">\\r\\n      <ion-icon name=\\\"person-outline\\\"></ion-icon>\\r\\n      <ion-label>Profile</ion-label>\\r\\n    </ion-tab-button>\\r\\n  </ion-tab-bar>\\r\\n</ion-tabs>\\r\\n\";","import { NgModule } from '@angular/core';\r\nimport { RouterModule, Routes } from '@angular/router';\r\nimport { TabsPage } from './tabs.page';\r\n\r\nconst routes: Routes = [\r\n  {\r\n    path: '',\r\n    component: TabsPage,\r\n    children: [\r\n      {\r\n        path: 'tab1',\r\n        loadChildren: () => import('../../unitTabs/tab1/tab1.module').then(m => m.Tab1PageModule)\r\n      },\r\n      {\r\n        path: 'tab2',\r\n        loadChildren: () => import('../../unitTabs/tab2/tab2.module').then(m => m.Tab2PageModule)\r\n      },\r\n      {\r\n        path: 'tab3',\r\n        loadChildren: () => import('../../unitTabs/tab3/tab3.module').then(m => m.Tab3PageModule)\r\n      },\r\n      {\r\n        path: 'profile',\r\n        loadChildren: () => import('../../unitTabs/profile/profile.module').then(m => m.ProfilePageModule)\r\n      },\r\n      {\r\n        path: 'my-spaces',\r\n        loadChildren: () => import('../../unitTabs/my-spaces/my-spaces.module').then( m => m.MySpacesPageModule)\r\n      },\r\n      {\r\n        path: 'tab4',\r\n        loadChildren: () => import('../../unitTabs/tab4/tab4.module').then( m => m.Tab4PageModule)\r\n      },\r\n      {\r\n        path: 'admin-dash',\r\n        loadChildren: () => import('../../unitTabs/admin-dash/admin-dash.module').then( m => m.AdminDashPageModule)\r\n      },\r\n      {\r\n        path: 'settings',\r\n        loadChildren: () => import('../../unitTabs/settings/settings.module').then( m => m.SettingsPageModule)\r\n      },\r\n      {\r\n        path: '',\r\n        redirectTo: '/tab1',\r\n        pathMatch: 'full'\r\n      }\r\n    ]\r\n  },\r\n  {\r\n    path: '',\r\n    redirectTo: '/tab1',\r\n    pathMatch: 'full'\r\n  }\r\n];\r\n\r\n@NgModule({\r\n  imports: [RouterModule.forChild(routes)],\r\n  exports: [RouterModule]\r\n})\r\nexport class TabsPageRoutingModule {}\r\n","import { IonicModule } from '@ionic/angular';\r\nimport { NgModule } from '@angular/core';\r\nimport { CommonModule } from '@angular/common';\r\nimport { FormsModule } from '@angular/forms';\r\n\r\nimport { TabsPageRoutingModule } from './tabs-routing.module';\r\n\r\nimport { TabsPage } from './tabs.page';\r\n\r\n@NgModule({\r\n  imports: [\r\n    IonicModule,\r\n    CommonModule,\r\n    FormsModule,\r\n    TabsPageRoutingModule\r\n  ],\r\n  declarations: [TabsPage]\r\n})\r\nexport class TabsPageModule {}\r\n","export default \"ion-tab-button {\\n  --background-focused: #ED1B25;\\n  --color-selected: #ED1B25;\\n}\\n\\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbInNyYy9hcHAvcGFnZXMvdW5pdFRhYnMvdGFicy90YWJzLnBhZ2Uuc2NzcyJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiQUFJQTtFQUVJLDZCQUFxQjtFQUNyQix5QkFBaUI7QUFKckIiLCJmaWxlIjoic3JjL2FwcC9wYWdlcy91bml0VGFicy90YWJzL3RhYnMucGFnZS5zY3NzIiwic291cmNlc0NvbnRlbnQiOlsiaW9uLXRhYnN7XHJcbiAgLy8gbWFyZ2luLXRvcDogMjVweDtcclxufVxyXG5cclxuaW9uLXRhYi1idXR0b24ge1xyXG4gIC8vIG1hcmdpbi10b3A6IDEwcHg7XHJcbiAgICAtLWJhY2tncm91bmQtZm9jdXNlZDogI0VEMUIyNTtcclxuICAgIC0tY29sb3Itc2VsZWN0ZWQ6ICNFRDFCMjU7XHJcbiAgfVxyXG4iXX0= */\";","import { Component, ViewChild } from '@angular/core';\r\nimport { GlobalService } from 'src/app/services/global.service';\r\nimport { Storage } from '@ionic/storage';\r\nimport { IonTabs } from '@ionic/angular';\r\n\r\n@Component({\r\n  selector: 'app-tabs',\r\n  templateUrl: 'tabs.page.html',\r\n  styleUrls: ['tabs.page.scss']\r\n})\r\nexport class TabsPage {\r\n  @ViewChild('app_tabs') tabRef: IonTabs;\r\n  \r\n  logged: boolean;\r\n    permissions = {\r\n      canCreateSpace : false,\r\n      canRetriveOwnBookings : false,\r\n      canRetriveSpaceBookings : false,\r\n      notificationcanRetrive : false,\r\n      spaceCanRetriveAll : false\r\n    };\r\n    permissionlist: any;\r\n  deviceInfo: any;\r\n\r\n  constructor(\r\n    private _gs: GlobalService,\r\n    private storage : Storage\r\n  ) {\r\n\r\n    this._gs.getUpdatedTabs().subscribe(status => {\r\n      this.getUserData();\r\n    });\r\n     // set on bais of notifications\r\n     this._gs.getfcmData().subscribe(status =>{\r\n      if(status){\r\n        this.tabRef.select('tab3');\r\n      }\r\n    });\r\n\r\n    // logout status\r\n    this._gs.getLogOut().subscribe(status =>{\r\n      if(status){\r\n        this.permissions = {\r\n          canCreateSpace : false,\r\n          canRetriveOwnBookings : false,\r\n          canRetriveSpaceBookings : false,\r\n          notificationcanRetrive : false,\r\n          spaceCanRetriveAll : false\r\n        };\r\n        this.logged = false;\r\n        this.tabRef.select('tab1');\r\n      }\r\n    });\r\n  }\r\n\r\n  ionViewWillEnter() {\r\n    this.getUserData();\r\n  }\r\n  getUserData() {\r\n    this.storage.get(\"session\").then((session) => {\r\n      if (session) {\r\n        this.storage.get(\"permissions\").then((permissions) => {\r\n            this.permissionlist = permissions;\r\n            this.setPermissions();\r\n        });\r\n      }\r\n    });\r\n  }\r\n  setPermissions(){\r\n    if(this.permissionlist){\r\n      this.permissions.canRetriveOwnBookings = this.permissionlist.includes(\"unit.booking.canRetriveOwnBookings\");\r\n      this.permissions.canCreateSpace = this.permissionlist.includes(\"unit.space.canCreate\");\r\n      this.permissions.canRetriveSpaceBookings = this.permissionlist.includes(\"unit.booking.canRetriveSpaceBookings\");\r\n      this.permissions.notificationcanRetrive = this.permissionlist.includes(\"unit.notification.canRetrive\");\r\n      this.permissions.spaceCanRetriveAll = this.permissionlist.includes(\"unit.space.canRetriveAll\");\r\n      if(this.permissions.canCreateSpace){\r\n          this.tabRef.select('my-spaces');\r\n        }\r\n      if(this.permissions.spaceCanRetriveAll ){\r\n        this.tabRef.select('admin-dash');\r\n      }\r\n    }\r\n    \r\n  }\r\n\r\n}\r\n"]}