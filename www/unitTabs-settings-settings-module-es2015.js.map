{"version":3,"sources":["./src/app/pages/unitTabs/settings/settings.page.html","./src/app/pages/unitTabs/settings/settings-routing.module.ts","./src/app/pages/unitTabs/settings/settings.module.ts","./src/app/pages/unitTabs/settings/settings.page.scss","./src/app/pages/unitTabs/settings/settings.page.ts"],"names":[],"mappings":";;;;;;;;;;AAAA;AAAe,+RAAgO,cAAc,uCAAuC,oEAAoE,MAAM,uBAAuB,OAAO,uBAAuB,SAAS,yWAAyW,WAAW,4gBAA4gB,YAAY,gEAAgE,E;;;;;;;;;;;;;;;;;;;ACA/0C;AACc;AAER;AAE/C,MAAM,MAAM,GAAW;IACrB;QACE,IAAI,EAAE,EAAE;QACR,SAAS,EAAE,2DAAY;KACxB;CACF,CAAC;IAMW,yBAAyB,SAAzB,yBAAyB;CAAG;AAA5B,yBAAyB;IAJrC,8DAAQ,CAAC;QACR,OAAO,EAAE,CAAC,4DAAY,CAAC,QAAQ,CAAC,MAAM,CAAC,CAAC;QACxC,OAAO,EAAE,CAAC,4DAAY,CAAC;KACxB,CAAC;GACW,yBAAyB,CAAG;AAAH;;;;;;;;;;;;;;;;;;;;;;;AChBG;AACM;AACF;AAEA;AAEyB;AAEvB;IAWlC,kBAAkB,SAAlB,kBAAkB;CAAG;AAArB,kBAAkB;IAT9B,8DAAQ,CAAC;QACR,OAAO,EAAE;YACP,4DAAY;YACZ,0DAAW;YACX,0DAAW;YACX,kFAAyB;SAC1B;QACD,YAAY,EAAE,CAAC,2DAAY,CAAC;KAC7B,CAAC;GACW,kBAAkB,CAAG;AAAH;;;;;;;;;;;;;ACnB/B;AAAe,6EAAc,iBAAiB,kBAAkB,uBAAuB,mBAAmB,sBAAsB,uBAAuB,yBAAyB,yBAAyB,GAAG,iBAAiB,0BAA0B,gBAAgB,iBAAiB,GAAG,2BAA2B,sBAAsB,sBAAsB,0BAA0B,GAAG,iBAAiB,+BAA+B,8BAA8B,GAAG,wBAAwB,8BAA8B,iCAAiC,GAAG,+CAA+C,2jDAA2jD,E;;;;;;;;;;;;;;;;;;;;;;ACAlmE;AACc;AACE;AACF;AACV;AACb;IAO5B,YAAY,SAAZ,YAAY;IAqDvB,YACU,GAAkB,EAClB,aAA4B,EAC7B,eAAgC,EAC/B,GAAe,EACf,OAAgB;QAJhB,QAAG,GAAH,GAAG,CAAe;QAClB,kBAAa,GAAb,aAAa,CAAe;QAC7B,oBAAe,GAAf,eAAe,CAAiB;QAC/B,QAAG,GAAH,GAAG,CAAY;QACf,YAAO,GAAP,OAAO,CAAS;QAxDlB,QAAG,GAAQ,qDAAM,CAAC,GAAG,CAAC;QAE9B,iBAAY,GAAS,4BAA4B,CAAC;QAE1C,eAAU,GAAG;YACnB;gBACE,KAAK,EAAE,cAAc;gBACrB,GAAG,EAAE,eAAe;gBACpB,IAAI,EAAE,eAAe;aACtB;YACD;gBACE,KAAK,EAAE,iBAAiB;gBACxB,GAAG,EAAE,kBAAkB;gBACvB,IAAI,EAAE,aAAa;aACpB;YACD;gBACE,KAAK,EAAE,YAAY;gBACnB,GAAG,EAAE,aAAa;gBAClB,IAAI,EAAE,UAAU;aACjB;YACD;gBACE,KAAK,EAAE,mBAAmB;gBAC1B,GAAG,EAAE,mBAAmB;gBACxB,IAAI,EAAE,UAAU;aACjB;YACD;gBACE,KAAK,EAAE,aAAa;gBACpB,GAAG,EAAE,gBAAgB;gBACrB,IAAI,EAAE,UAAU;aACjB;YACD;gBACE,KAAK,EAAE,aAAa;gBACpB,GAAG,EAAE,cAAc;gBACnB,IAAI,EAAE,OAAO;aACd;YACD;gBACE,KAAK,EAAE,UAAU;gBACjB,GAAG,EAAE,cAAc;gBACnB,IAAI,EAAE,WAAW;aAClB;YACD;gBACE,KAAK,EAAE,iBAAiB;gBACxB,GAAG,EAAE,gBAAgB;gBACrB,IAAI,EAAE,MAAM;aACb;SAEF,CAAC;IAWE,CAAC;IAEL,QAAQ;QACN,IAAI,CAAC,WAAW,EAAE,CAAC;IACrB,CAAC;IAED,WAAW;QACT,IAAI,CAAC,OAAO,CAAC,GAAG,CAAC,SAAS,CAAC,CAAC,IAAI,CAAC,CAAC,OAAO,EAAE,EAAE;YAC3C,IAAI,OAAO,EAAE;gBACX,IAAI,CAAC,OAAO,CAAC,GAAG,CAAC,KAAK,CAAC,CAAC,IAAI,CAAC,CAAC,GAAG,EAAE,EAAE;oBACnC,IAAI,GAAG,EAAE;wBACP,IAAI,CAAC,KAAK,GAAG,OAAO,CAAC;wBACrB,IAAI,CAAC,KAAK,GAAG,GAAG,CAAC;qBAClB;gBACH,CAAC,CAAC,CAAC;gBACH,IAAI,CAAC,OAAO,CAAC,GAAG,CAAC,MAAM,CAAC,CAAC,IAAI,CAAC,CAAC,IAAI,EAAE,EAAE;oBACrC,IAAI,IAAI,EAAE;wBACR,IAAI,CAAC,KAAK,GAAG,IAAI,CAAC,KAAK,CAAC;wBACxB,IAAI,CAAC,IAAI,GAAG,IAAI,CAAC,SAAS,CAAC;wBAC3B,IAAI,CAAC,OAAO,GAAG,IAAI,CAAC,KAAK,CAAC;wBAC1B,IAAI,IAAI,CAAC,UAAU,IAAI,IAAI,EAAE;4BAC3B,IAAI,CAAC,YAAY,GAAG,4BAA4B,CAAC;yBAClD;6BAAM;4BACL,IAAI,CAAC,YAAY,GAAG,IAAI,CAAC,UAAU,CAAC;yBACrC;qBACF;gBACH,CAAC,CAAC,CAAC;aACJ;QACH,CAAC,CAAC,CAAC;IACL,CAAC;IAEK,MAAM;;YACV,MAAM,KAAK,GAAG,MAAM,IAAI,CAAC,eAAe,CAAC,MAAM,CAAC;gBAC9C,MAAM,EAAE,QAAQ;gBAChB,OAAO,EAAE,kCAAkC;gBAC3C,OAAO,EAAE;oBACP;wBACE,IAAI,EAAE,QAAQ;wBACd,IAAI,EAAE,QAAQ;wBACd,QAAQ,EAAE,WAAW;wBACrB,OAAO,EAAE,CAAC,IAAI,EAAE,EAAE,GAAG,CAAC;qBACvB,EAAE;wBACD,IAAI,EAAE,QAAQ;wBACd,OAAO,EAAE,GAAG,EAAE;4BACZ,IAAI,CAAC,QAAQ,EAAE,CAAC;wBAElB,CAAC;qBACF;iBACF;aACF,CAAC,CAAC;YAEH,MAAM,KAAK,CAAC,OAAO,EAAE,CAAC;QACxB,CAAC;KAAA;IAED,QAAQ;QACN,2BAA2B;QAC3B,UAAU,CAAC,GAAG,EAAE;YACd,IAAI,CAAC,OAAO,CAAC,KAAK,EAAE,CAAC,IAAI,CAAC,GAAG,EAAE;gBAC7B,OAAO,CAAC,GAAG,CAAC,kBAAkB,CAAC,CAAC;YAClC,CAAC,CAAC,CAAC;YACH,IAAI,CAAC,GAAG,CAAC,MAAM,EAAE,CAAC;YAClB,IAAI,CAAC,aAAa,CAAC,YAAY,CAAC,CAAC,WAAW,CAAC,CAAC,CAAC;QACjD,CAAC,EAAE,GAAG,CAAC,CAAC;IACV,CAAC;IAED,gBAAgB;QACd,MAAM,MAAM,GAAG;YACb,KAAK,EAAE,IAAI,CAAC,KAAK;SAClB,CAAC;QACF,IAAI,CAAC,GAAG,CAAC,WAAW,CAAC,IAAI,CAAC,GAAG,GAAG,sDAAO,CAAC,YAAY,EAClD,MAAM,CAAC;aACN,SAAS,CACR,CAAO,MAAM,EAAE,EAAE,CAAC;YAChB,IAAI,MAAM,CAAC,OAAO,EAAE;gBAClB,OAAO,CAAC,GAAG,CAAC,QAAQ,EAAE,MAAM,CAAC,CAAC;aAC/B;QACH,CAAC,EACF,EAAE,CAAC,KAAK,EAAE,EAAE;YACX,OAAO,CAAC,GAAG,CAAC,OAAO,EAAE,KAAK,CAAC;QAC7B,CAAC;IACL,CAAC;CAEF;;YAtJQ,6EAAa;YAFI,4DAAa;YAA9B,8DAAe;YACf,+EAAU;YAGV,sDAAO;;AAOH,YAAY;IALxB,+DAAS,CAAC;QACT,QAAQ,EAAE,cAAc;QACxB,yOAAmC;;KAEpC,CAAC;GACW,YAAY,CA6IxB;AA7IwB","file":"unitTabs-settings-settings-module-es2015.js","sourcesContent":["export default \"<ion-header>\\r\\n  <ion-toolbar>\\r\\n    <ion-title>Settings</ion-title>\\r\\n  </ion-toolbar>\\r\\n</ion-header>\\r\\n<ion-content>\\r\\n   <!-- PROFILE -->\\r\\n   <div class=\\\"ion-padding\\\">\\r\\n    <img class=\\\"circle-pic\\\" src=\\\"{{profileImage}}\\\" />\\r\\n    <div style=\\\"margin: 20px;\\\" class=\\\"ion-text-center\\\">\\r\\n      <ion-label>\\r\\n        <h3>{{name}}</h3>\\r\\n        <h4>{{email}}</h4>\\r\\n        <h4>{{contact}} </h4>\\r\\n      </ion-label>\\r\\n    </div>\\r\\n  </div>\\r\\n    <ion-list>\\r\\n      <ion-list-header>\\r\\n        Account settings\\r\\n      </ion-list-header>\\r\\n      <ion-item *ngFor=\\\"let p of adminPages\\\" [routerLink]=\\\"[p.url]\\\">\\r\\n        <ion-icon slot=\\\"start\\\" [ios]=\\\"p.icon + '-outline'\\\" [md]=\\\"p.icon + '-sharp'\\\"></ion-icon>\\r\\n        <ion-label>{{ p.title }}</ion-label>\\r\\n      </ion-item> \\r\\n    </ion-list>  \\r\\n    <!-- <ion-list class=\\\"list-space\\\">\\r\\n      <ion-list-header>\\r\\n       Notifications\\r\\n      </ion-list-header>\\r\\n      <ion-item routerLink=\\\"/send-notifications\\\">\\r\\n        <ion-icon slot=\\\"start\\\" name=\\\"rocket-outline\\\"></ion-icon>\\r\\n        <ion-label>Notify all users</ion-label>\\r\\n      </ion-item>\\r\\n      </ion-list> -->\\r\\n    <ion-item lines=\\\"none\\\" class=\\\"list-space\\\" (click)=\\\"logout()\\\">\\r\\n      <ion-label style=\\\"font-weight: bold; color: red;\\\">Log out</ion-label>\\r\\n    </ion-item>\\r\\n</ion-content>\\r\\n\";","import { NgModule } from '@angular/core';\r\nimport { Routes, RouterModule } from '@angular/router';\r\n\r\nimport { SettingsPage } from './settings.page';\r\n\r\nconst routes: Routes = [\r\n  {\r\n    path: '',\r\n    component: SettingsPage\r\n  }\r\n];\r\n\r\n@NgModule({\r\n  imports: [RouterModule.forChild(routes)],\r\n  exports: [RouterModule],\r\n})\r\nexport class SettingsPageRoutingModule {}\r\n","import { NgModule } from '@angular/core';\r\nimport { CommonModule } from '@angular/common';\r\nimport { FormsModule } from '@angular/forms';\r\n\r\nimport { IonicModule } from '@ionic/angular';\r\n\r\nimport { SettingsPageRoutingModule } from './settings-routing.module';\r\n\r\nimport { SettingsPage } from './settings.page';\r\n\r\n@NgModule({\r\n  imports: [\r\n    CommonModule,\r\n    FormsModule,\r\n    IonicModule,\r\n    SettingsPageRoutingModule\r\n  ],\r\n  declarations: [SettingsPage]\r\n})\r\nexport class SettingsPageModule {}\r\n","export default \".circle-pic {\\n  width: 100px;\\n  height: 100px;\\n  border-radius: 50%;\\n  display: block;\\n  margin-left: auto;\\n  margin-right: auto;\\n  -o-object-fit: cover;\\n     object-fit: cover;\\n}\\n\\n.icon-style {\\n  color: lightslategray;\\n  width: 25px;\\n  height: 25px;\\n}\\n\\nion-item ion-label h2 {\\n  font-size: medium;\\n  font-weight: bold;\\n  color: \\\"quaternary\\\";\\n}\\n\\nion-list h4 {\\n  font-size: 12px !important;\\n  text-transform: uppercase;\\n}\\n\\nion-list ion-label {\\n  color: #656565 !important;\\n  font-size: 13.6px !important;\\n}\\n\\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbInNyYy9hcHAvcGFnZXMvdW5pdFRhYnMvc2V0dGluZ3Mvc2V0dGluZ3MucGFnZS5zY3NzIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiJBQUFBO0VBQ0ksWUFBWTtFQUNaLGFBQWE7RUFFYixrQkFBa0I7RUFDbEIsY0FBYztFQUNkLGlCQUFpQjtFQUNqQixrQkFBa0I7RUFDbEIsb0JBQWlCO0tBQWpCLGlCQUFpQjtBQUNyQjs7QUFFRTtFQUNJLHFCQUFxQjtFQUNyQixXQUFXO0VBQ1gsWUFBWTtBQUNsQjs7QUFFRTtFQUdNLGlCQUFpQjtFQUNqQixpQkFBaUI7RUFDakIsbUJBQW1CO0FBRDNCOztBQUtFO0VBRUksMEJBQTBCO0VBQzFCLHlCQUF5QjtBQUgvQjs7QUFBRTtFQU1JLHlCQUF5QjtFQUN6Qiw0QkFBNEI7QUFGbEMiLCJmaWxlIjoic3JjL2FwcC9wYWdlcy91bml0VGFicy9zZXR0aW5ncy9zZXR0aW5ncy5wYWdlLnNjc3MiLCJzb3VyY2VzQ29udGVudCI6WyIuY2lyY2xlLXBpYyB7XHJcbiAgICB3aWR0aDogMTAwcHg7XHJcbiAgICBoZWlnaHQ6IDEwMHB4O1xyXG4gICAgLXdlYmtpdC1ib3JkZXItcmFkaXVzOiA1MCU7XHJcbiAgICBib3JkZXItcmFkaXVzOiA1MCU7XHJcbiAgICBkaXNwbGF5OiBibG9jaztcclxuICAgIG1hcmdpbi1sZWZ0OiBhdXRvO1xyXG4gICAgbWFyZ2luLXJpZ2h0OiBhdXRvO1xyXG4gICAgb2JqZWN0LWZpdDogY292ZXI7XHJcbiAgfVxyXG4gIFxyXG4gIC5pY29uLXN0eWxle1xyXG4gICAgICBjb2xvcjogbGlnaHRzbGF0ZWdyYXk7XHJcbiAgICAgIHdpZHRoOiAyNXB4O1xyXG4gICAgICBoZWlnaHQ6IDI1cHg7XHJcbiAgfVxyXG4gIFxyXG4gIGlvbi1pdGVte1xyXG4gICAgaW9uLWxhYmVse1xyXG4gICAgICBoMntcclxuICAgICAgICBmb250LXNpemU6IG1lZGl1bTtcclxuICAgICAgICBmb250LXdlaWdodDogYm9sZDtcclxuICAgICAgICBjb2xvcjogXCJxdWF0ZXJuYXJ5XCI7XHJcbiAgICAgIH0gICAgXHJcbiAgICB9XHJcbiAgfVxyXG4gIGlvbi1saXN0e1xyXG4gICAgaDR7XHJcbiAgICAgIGZvbnQtc2l6ZTogMTJweCAhaW1wb3J0YW50O1xyXG4gICAgICB0ZXh0LXRyYW5zZm9ybTogdXBwZXJjYXNlO1xyXG4gICAgfVxyXG4gICAgaW9uLWxhYmVse1xyXG4gICAgICBjb2xvcjogIzY1NjU2NSAhaW1wb3J0YW50O1xyXG4gICAgICBmb250LXNpemU6IDEzLjZweCAhaW1wb3J0YW50O1xyXG4gICAgfVxyXG4gIH0iXX0= */\";","import { Component, OnInit } from '@angular/core';\r\nimport { AlertController, NavController } from '@ionic/angular';\r\nimport { ApiService } from 'src/app/services/api-service.service';\r\nimport { GlobalService } from 'src/app/services/global.service';\r\nimport { config, UNITURL } from '../../config/config';\r\nimport { Storage } from '@ionic/storage';\r\n\r\n@Component({\r\n  selector: 'app-settings',\r\n  templateUrl: './settings.page.html',\r\n  styleUrls: ['./settings.page.scss'],\r\n})\r\nexport class SettingsPage implements OnInit {\r\n\r\n  private url: any = config.url;\r\n  token: any;\r\n  profileImage : any = \"/assets/imgs/dummyUser.png\";\r\n\r\n  private adminPages = [\r\n    {\r\n      title: 'Edit Profile',\r\n      url: '/edit-profile',\r\n      icon: 'person-circle'\r\n    },\r\n    {\r\n      title: 'Change Password',\r\n      url: '/change-password',\r\n      icon: 'lock-closed'\r\n    },\r\n    {\r\n      title: 'Space Type',\r\n      url: '/space-type',\r\n      icon: 'business'\r\n    },\r\n    {\r\n      title: 'Stored Items Type',\r\n      url: '/stored-item-type',\r\n      icon: 'business'\r\n    },\r\n    {\r\n      title: 'Access Type',\r\n      url: '/access-period',\r\n      icon: 'calendar'\r\n    },\r\n    {\r\n      title: 'Access Time',\r\n      url: '/access-type',\r\n      icon: 'alarm'\r\n    },\r\n    {\r\n      title: 'Features',\r\n      url: '/add-feature',\r\n      icon: 'briefcase'\r\n    },\r\n    {\r\n      title: 'Revenue Sharing',\r\n      url: '/revenue-share',\r\n      icon: 'cash'\r\n    }\r\n\r\n  ];\r\n  email: any;\r\n  name: any;\r\n  contact: any;\r\n  orgId: any;\r\n  constructor(\r\n    private _gs: GlobalService,\r\n    private navController: NavController,\r\n    public alertController: AlertController,\r\n    private api: ApiService,\r\n    private storage: Storage\r\n  ) { }\r\n\r\n  ngOnInit() {\r\n    this.getUserData();\r\n  }\r\n\r\n  getUserData() {\r\n    this.storage.get(\"session\").then((session) => {\r\n      if (session) {\r\n        this.storage.get(\"org\").then((org) => {\r\n          if (org) {\r\n            this.token = session;\r\n            this.orgId = org;\r\n          }\r\n        });\r\n        this.storage.get(\"user\").then((user) => {\r\n          if (user) {\r\n            this.email = user.email;\r\n            this.name = user.firstName;\r\n            this.contact = user.phone;\r\n            if (user.profilePic == null) {\r\n              this.profileImage = \"/assets/imgs/dummyUser.png\";\r\n            } else {\r\n              this.profileImage = user.profilePic;\r\n            }\r\n          }\r\n        });\r\n      }\r\n    });\r\n  }\r\n\r\n  async logout() {\r\n    const alert = await this.alertController.create({\r\n      header: 'LogOut',\r\n      message: 'Are you sure,you want to logout?',\r\n      buttons: [\r\n        {\r\n          text: 'Cancel',\r\n          role: 'cancel',\r\n          cssClass: 'secondary',\r\n          handler: (blah) => { }\r\n        }, {\r\n          text: 'Logout',\r\n          handler: () => {\r\n            this.clearAll();\r\n\r\n          }\r\n        }\r\n      ]\r\n    });\r\n\r\n    await alert.present();\r\n  }\r\n\r\n  clearAll() {\r\n    // this.clearDeviceToken();\r\n    setTimeout(() => {\r\n      this.storage.clear().then(() => {\r\n        console.log('all keys cleared');\r\n      });\r\n      this._gs.logOut();\r\n      this.navController.navigateRoot(['tabs/tab1']);\r\n    }, 200);\r\n  }\r\n\r\n  clearDeviceToken() {\r\n    const params = {\r\n      token: this.token,\r\n    };\r\n    this.api.postRequest(this.url + UNITURL.removeDevice,\r\n      params)\r\n      .subscribe(\r\n        async (result) => {\r\n          if (result.success) {\r\n            console.log('result', result);\r\n          }\r\n        }\r\n      ), (error) => {\r\n        console.log('error', error)\r\n      }\r\n  }\r\n\r\n}\r\n"],"sourceRoot":"webpack:///"}