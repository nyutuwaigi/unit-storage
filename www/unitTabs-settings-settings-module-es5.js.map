{"version":3,"sources":["webpack:///src/app/pages/unitTabs/settings/settings.page.html","webpack:///src/app/pages/unitTabs/settings/settings-routing.module.ts","webpack:///src/app/pages/unitTabs/settings/settings.module.ts","webpack:///src/app/pages/unitTabs/settings/settings.page.scss","webpack:///src/app/pages/unitTabs/settings/settings.page.ts"],"names":["routes","path","component","SettingsPageRoutingModule","imports","forChild","exports","SettingsPageModule","declarations","SettingsPage","_gs","navController","alertController","api","storage","url","profileImage","adminPages","title","icon","getUserData","get","then","session","org","token","orgId","user","email","name","firstName","contact","phone","profilePic","create","header","message","buttons","text","role","cssClass","handler","blah","clearAll","alert","present","setTimeout","clear","console","log","logOut","navigateRoot","params","postRequest","removeDevice","subscribe","result","success","error","selector","template"],"mappings":"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","file":"unitTabs-settings-settings-module-es5.js","sourcesContent":["export default \"<ion-header>\\r\\n  <ion-toolbar>\\r\\n    <ion-title>Settings</ion-title>\\r\\n  </ion-toolbar>\\r\\n</ion-header>\\r\\n<ion-content>\\r\\n   <!-- PROFILE -->\\r\\n   <div class=\\\"ion-padding\\\">\\r\\n    <img class=\\\"circle-pic\\\" src=\\\"{{profileImage}}\\\" />\\r\\n    <div style=\\\"margin: 20px;\\\" class=\\\"ion-text-center\\\">\\r\\n      <ion-label>\\r\\n        <h3>{{name}}</h3>\\r\\n        <h4>{{email}}</h4>\\r\\n        <h4>{{contact}} </h4>\\r\\n      </ion-label>\\r\\n    </div>\\r\\n  </div>\\r\\n    <ion-list>\\r\\n      <ion-list-header>\\r\\n        Account settings\\r\\n      </ion-list-header>\\r\\n      <ion-item *ngFor=\\\"let p of adminPages\\\" [routerLink]=\\\"[p.url]\\\">\\r\\n        <ion-icon slot=\\\"start\\\" [ios]=\\\"p.icon + '-outline'\\\" [md]=\\\"p.icon + '-sharp'\\\"></ion-icon>\\r\\n        <ion-label>{{ p.title }}</ion-label>\\r\\n      </ion-item> \\r\\n    </ion-list>  \\r\\n    <!-- <ion-list class=\\\"list-space\\\">\\r\\n      <ion-list-header>\\r\\n       Notifications\\r\\n      </ion-list-header>\\r\\n      <ion-item routerLink=\\\"/send-notifications\\\">\\r\\n        <ion-icon slot=\\\"start\\\" name=\\\"rocket-outline\\\"></ion-icon>\\r\\n        <ion-label>Notify all users</ion-label>\\r\\n      </ion-item>\\r\\n      </ion-list> -->\\r\\n    <ion-item lines=\\\"none\\\" class=\\\"list-space\\\" (click)=\\\"logout()\\\">\\r\\n      <ion-label style=\\\"font-weight: bold; color: red;\\\">Log out</ion-label>\\r\\n    </ion-item>\\r\\n</ion-content>\\r\\n\";","import { NgModule } from '@angular/core';\r\nimport { Routes, RouterModule } from '@angular/router';\r\n\r\nimport { SettingsPage } from './settings.page';\r\n\r\nconst routes: Routes = [\r\n  {\r\n    path: '',\r\n    component: SettingsPage\r\n  }\r\n];\r\n\r\n@NgModule({\r\n  imports: [RouterModule.forChild(routes)],\r\n  exports: [RouterModule],\r\n})\r\nexport class SettingsPageRoutingModule {}\r\n","import { NgModule } from '@angular/core';\r\nimport { CommonModule } from '@angular/common';\r\nimport { FormsModule } from '@angular/forms';\r\n\r\nimport { IonicModule } from '@ionic/angular';\r\n\r\nimport { SettingsPageRoutingModule } from './settings-routing.module';\r\n\r\nimport { SettingsPage } from './settings.page';\r\n\r\n@NgModule({\r\n  imports: [\r\n    CommonModule,\r\n    FormsModule,\r\n    IonicModule,\r\n    SettingsPageRoutingModule\r\n  ],\r\n  declarations: [SettingsPage]\r\n})\r\nexport class SettingsPageModule {}\r\n","export default \".circle-pic {\\n  width: 100px;\\n  height: 100px;\\n  border-radius: 50%;\\n  display: block;\\n  margin-left: auto;\\n  margin-right: auto;\\n  -o-object-fit: cover;\\n     object-fit: cover;\\n}\\n\\n.icon-style {\\n  color: lightslategray;\\n  width: 25px;\\n  height: 25px;\\n}\\n\\nion-item ion-label h2 {\\n  font-size: medium;\\n  font-weight: bold;\\n  color: \\\"quaternary\\\";\\n}\\n\\nion-list h4 {\\n  font-size: 12px !important;\\n  text-transform: uppercase;\\n}\\n\\nion-list ion-label {\\n  color: #656565 !important;\\n  font-size: 13.6px !important;\\n}\\n\\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbInNyYy9hcHAvcGFnZXMvdW5pdFRhYnMvc2V0dGluZ3Mvc2V0dGluZ3MucGFnZS5zY3NzIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiJBQUFBO0VBQ0ksWUFBWTtFQUNaLGFBQWE7RUFFYixrQkFBa0I7RUFDbEIsY0FBYztFQUNkLGlCQUFpQjtFQUNqQixrQkFBa0I7RUFDbEIsb0JBQWlCO0tBQWpCLGlCQUFpQjtBQUNyQjs7QUFFRTtFQUNJLHFCQUFxQjtFQUNyQixXQUFXO0VBQ1gsWUFBWTtBQUNsQjs7QUFFRTtFQUdNLGlCQUFpQjtFQUNqQixpQkFBaUI7RUFDakIsbUJBQW1CO0FBRDNCOztBQUtFO0VBRUksMEJBQTBCO0VBQzFCLHlCQUF5QjtBQUgvQjs7QUFBRTtFQU1JLHlCQUF5QjtFQUN6Qiw0QkFBNEI7QUFGbEMiLCJmaWxlIjoic3JjL2FwcC9wYWdlcy91bml0VGFicy9zZXR0aW5ncy9zZXR0aW5ncy5wYWdlLnNjc3MiLCJzb3VyY2VzQ29udGVudCI6WyIuY2lyY2xlLXBpYyB7XHJcbiAgICB3aWR0aDogMTAwcHg7XHJcbiAgICBoZWlnaHQ6IDEwMHB4O1xyXG4gICAgLXdlYmtpdC1ib3JkZXItcmFkaXVzOiA1MCU7XHJcbiAgICBib3JkZXItcmFkaXVzOiA1MCU7XHJcbiAgICBkaXNwbGF5OiBibG9jaztcclxuICAgIG1hcmdpbi1sZWZ0OiBhdXRvO1xyXG4gICAgbWFyZ2luLXJpZ2h0OiBhdXRvO1xyXG4gICAgb2JqZWN0LWZpdDogY292ZXI7XHJcbiAgfVxyXG4gIFxyXG4gIC5pY29uLXN0eWxle1xyXG4gICAgICBjb2xvcjogbGlnaHRzbGF0ZWdyYXk7XHJcbiAgICAgIHdpZHRoOiAyNXB4O1xyXG4gICAgICBoZWlnaHQ6IDI1cHg7XHJcbiAgfVxyXG4gIFxyXG4gIGlvbi1pdGVte1xyXG4gICAgaW9uLWxhYmVse1xyXG4gICAgICBoMntcclxuICAgICAgICBmb250LXNpemU6IG1lZGl1bTtcclxuICAgICAgICBmb250LXdlaWdodDogYm9sZDtcclxuICAgICAgICBjb2xvcjogXCJxdWF0ZXJuYXJ5XCI7XHJcbiAgICAgIH0gICAgXHJcbiAgICB9XHJcbiAgfVxyXG4gIGlvbi1saXN0e1xyXG4gICAgaDR7XHJcbiAgICAgIGZvbnQtc2l6ZTogMTJweCAhaW1wb3J0YW50O1xyXG4gICAgICB0ZXh0LXRyYW5zZm9ybTogdXBwZXJjYXNlO1xyXG4gICAgfVxyXG4gICAgaW9uLWxhYmVse1xyXG4gICAgICBjb2xvcjogIzY1NjU2NSAhaW1wb3J0YW50O1xyXG4gICAgICBmb250LXNpemU6IDEzLjZweCAhaW1wb3J0YW50O1xyXG4gICAgfVxyXG4gIH0iXX0= */\";","import { Component, OnInit } from '@angular/core';\r\nimport { AlertController, NavController } from '@ionic/angular';\r\nimport { ApiService } from 'src/app/services/api-service.service';\r\nimport { GlobalService } from 'src/app/services/global.service';\r\nimport { config, UNITURL } from '../../config/config';\r\nimport { Storage } from '@ionic/storage';\r\n\r\n@Component({\r\n  selector: 'app-settings',\r\n  templateUrl: './settings.page.html',\r\n  styleUrls: ['./settings.page.scss'],\r\n})\r\nexport class SettingsPage implements OnInit {\r\n\r\n  private url: any = config.url;\r\n  token: any;\r\n  profileImage : any = \"/assets/imgs/dummyUser.png\";\r\n\r\n  private adminPages = [\r\n    {\r\n      title: 'Edit Profile',\r\n      url: '/edit-profile',\r\n      icon: 'person-circle'\r\n    },\r\n    {\r\n      title: 'Change Password',\r\n      url: '/change-password',\r\n      icon: 'lock-closed'\r\n    },\r\n    {\r\n      title: 'Space Type',\r\n      url: '/space-type',\r\n      icon: 'business'\r\n    },\r\n    {\r\n      title: 'Stored Items Type',\r\n      url: '/stored-item-type',\r\n      icon: 'business'\r\n    },\r\n    {\r\n      title: 'Access Type',\r\n      url: '/access-period',\r\n      icon: 'calendar'\r\n    },\r\n    {\r\n      title: 'Access Time',\r\n      url: '/access-type',\r\n      icon: 'alarm'\r\n    },\r\n    {\r\n      title: 'Features',\r\n      url: '/add-feature',\r\n      icon: 'briefcase'\r\n    },\r\n    {\r\n      title: 'Revenue Sharing',\r\n      url: '/revenue-share',\r\n      icon: 'cash'\r\n    }\r\n\r\n  ];\r\n  email: any;\r\n  name: any;\r\n  contact: any;\r\n  orgId: any;\r\n  constructor(\r\n    private _gs: GlobalService,\r\n    private navController: NavController,\r\n    public alertController: AlertController,\r\n    private api: ApiService,\r\n    private storage: Storage\r\n  ) { }\r\n\r\n  ngOnInit() {\r\n    this.getUserData();\r\n  }\r\n\r\n  getUserData() {\r\n    this.storage.get(\"session\").then((session) => {\r\n      if (session) {\r\n        this.storage.get(\"org\").then((org) => {\r\n          if (org) {\r\n            this.token = session;\r\n            this.orgId = org;\r\n          }\r\n        });\r\n        this.storage.get(\"user\").then((user) => {\r\n          if (user) {\r\n            this.email = user.email;\r\n            this.name = user.firstName;\r\n            this.contact = user.phone;\r\n            if (user.profilePic == null) {\r\n              this.profileImage = \"/assets/imgs/dummyUser.png\";\r\n            } else {\r\n              this.profileImage = user.profilePic;\r\n            }\r\n          }\r\n        });\r\n      }\r\n    });\r\n  }\r\n\r\n  async logout() {\r\n    const alert = await this.alertController.create({\r\n      header: 'LogOut',\r\n      message: 'Are you sure,you want to logout?',\r\n      buttons: [\r\n        {\r\n          text: 'Cancel',\r\n          role: 'cancel',\r\n          cssClass: 'secondary',\r\n          handler: (blah) => { }\r\n        }, {\r\n          text: 'Logout',\r\n          handler: () => {\r\n            this.clearAll();\r\n\r\n          }\r\n        }\r\n      ]\r\n    });\r\n\r\n    await alert.present();\r\n  }\r\n\r\n  clearAll() {\r\n    // this.clearDeviceToken();\r\n    setTimeout(() => {\r\n      this.storage.clear().then(() => {\r\n        console.log('all keys cleared');\r\n      });\r\n      this._gs.logOut();\r\n      this.navController.navigateRoot(['tabs/tab1']);\r\n    }, 200);\r\n  }\r\n\r\n  clearDeviceToken() {\r\n    const params = {\r\n      token: this.token,\r\n    };\r\n    this.api.postRequest(this.url + UNITURL.removeDevice,\r\n      params)\r\n      .subscribe(\r\n        async (result) => {\r\n          if (result.success) {\r\n            console.log('result', result);\r\n          }\r\n        }\r\n      ), (error) => {\r\n        console.log('error', error)\r\n      }\r\n  }\r\n\r\n}\r\n"]}